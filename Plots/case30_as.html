<!DOCTYPE html>
<html>
<head>
  <script src="https://cdn.jsdelivr.net/npm/vega@5.30.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.20.1"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.26.0"></script>
</head>
<body>
  <div id="vis"/>
  <script>
    const spec = {
  "width": 500,
  "height": 500,
  "config": {"view": {"stroke": null}},
  "resolve": {"scale": {"color": "shared", "size": "independent"}},
  "encoding": {
    "x": {
      "axis": null,
      "scale": {"domain": [-3.571575320982239, 3.8062019145659938]}
    },
    "y": {
      "axis": null,
      "scale": {"domain": [-3.388977950090223, 4.572735264335422]}
    },
    "color": {"legend": {"orient": "bottom"}}
  },
  "layer": [
    {
      "data": {
        "values": [
          {
            "br_r": 0.034,
            "rate_a": 0.32,
            "xcoord_1": 2.5870634844130826,
            "pt": 0.06969441120273091,
            "br_x": 0.068,
            "ycoord_2": 1.064921328997786,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 1.1533314619981863,
            "b_to": 0,
            "index": 24,
            "transformer": false,
            "ycoord_1": 1.445225616361202,
            "pf": -0.06951908757765446
          },
          {
            "br_r": 0.0132,
            "rate_a": 1.3,
            "xcoord_1": -0.1293103190565832,
            "pt": -0.5442809716903189,
            "br_x": 0.0379,
            "ycoord_2": -1.2731239128848122,
            "ComponentType": "branch",
            "b_fr": 0.0021,
            "br_status": 1,
            "xcoord_2": -0.0421953897937812,
            "b_to": 0.0021,
            "index": 4,
            "transformer": false,
            "ycoord_1": -2.751538362018932,
            "pf": 0.548059574069686
          },
          {
            "br_r": 0.0192,
            "rate_a": 1.3,
            "xcoord_1": -1.1830923418616932,
            "pt": -1.1511470164748945,
            "br_x": 0.0575,
            "ycoord_2": -1.5231373510768678,
            "ComponentType": "branch",
            "b_fr": 0.0132,
            "br_status": 1,
            "xcoord_2": -1.0838430452290102,
            "b_to": 0.0132,
            "index": 1,
            "transformer": false,
            "ycoord_1": -2.8808468492501356,
            "pf": 1.1755722639191604
          },
          {
            "br_r": 0,
            "rate_a": 0.32,
            "xcoord_1": -0.9631560040726648,
            "pt": -0.13071595612520323,
            "br_x": 0.556,
            "ycoord_2": 0.326775189374612,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 0.09304552180722177,
            "b_to": 0,
            "index": 12,
            "transformer": false,
            "ycoord_1": -0.40424187831415276,
            "pf": 0.13071595612520323
          },
          {
            "br_r": 0.0116,
            "rate_a": 0.32,
            "xcoord_1": -0.5324229425987899,
            "pt": 0.01757423327925411,
            "br_x": 0.0236,
            "ycoord_2": 1.4752743109358846,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 0.1499211789192004,
            "b_to": 0,
            "index": 29,
            "transformer": false,
            "ycoord_1": 1.3241011365452864,
            "pf": -0.01747416902431787
          },
          {
            "br_r": 0.221,
            "rate_a": 0.16,
            "xcoord_1": 2.6151579058347316,
            "pt": -0.014536849875859148,
            "br_x": 0.1997,
            "ycoord_2": 0.10604914149059794,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 2.1465575840932116,
            "b_to": 0,
            "index": 20,
            "transformer": false,
            "ycoord_1": -0.8604079433446993,
            "pf": 0.014583904607385463
          },
          {
            "br_r": 0.132,
            "rate_a": 0.16,
            "xcoord_1": 1.790472890065299,
            "pt": -0.02069116920858601,
            "br_x": 0.27,
            "ycoord_2": 2.3837414637666834,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 0.6069340637609133,
            "b_to": 0,
            "index": 32,
            "transformer": false,
            "ycoord_1": 1.5831168934028088,
            "pf": 0.02098971857220322
          },
          {
            "br_r": 0.0452,
            "rate_a": 1.3,
            "xcoord_1": -1.1830923418616932,
            "pt": -0.572059574069686,
            "br_x": 0.1852,
            "ycoord_2": -2.751538362018932,
            "ComponentType": "branch",
            "b_fr": 0.0102,
            "br_status": 1,
            "xcoord_2": -0.1293103190565832,
            "b_to": 0.0102,
            "index": 2,
            "transformer": false,
            "ycoord_1": -2.8808468492501356,
            "pf": 0.5861529999780843
          },
          {
            "br_r": 0.0581,
            "rate_a": 0.65,
            "xcoord_1": -1.0838430452290102,
            "pt": -0.43825638932739136,
            "br_x": 0.1763,
            "ycoord_2": -0.40424187831415276,
            "ComponentType": "branch",
            "b_fr": 0.00935,
            "br_status": 1,
            "xcoord_2": -0.9631560040726648,
            "b_to": 0.00935,
            "index": 6,
            "transformer": false,
            "ycoord_1": -1.5231373510768678,
            "pf": 0.4491358998302115
          },
          {
            "br_r": 0.0936,
            "rate_a": 0.32,
            "xcoord_1": 0.09304552180722177,
            "pt": -0.0916944112027309,
            "br_x": 0.209,
            "ycoord_2": 1.064921328997786,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 1.1533314619981863,
            "b_to": 0,
            "index": 25,
            "transformer": false,
            "ycoord_1": 0.326775189374612,
            "pf": 0.09253467289927782
          },
          {
            "br_r": 0.0639,
            "rate_a": 0.16,
            "xcoord_1": 3.2650322904349816,
            "pt": -0.02548091242234553,
            "br_x": 0.1292,
            "ycoord_2": 1.445225616361202,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 2.5870634844130826,
            "b_to": 0,
            "index": 23,
            "transformer": false,
            "ycoord_1": 0.6207202449455728,
            "pf": 0.02553732310197514
          },
          {
            "br_r": 0.107,
            "rate_a": 0.16,
            "xcoord_1": 2.1465575840932116,
            "pt": -0.057537323101975145,
            "br_x": 0.2185,
            "ycoord_2": 0.6207202449455728,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 3.2650322904349816,
            "b_to": 0,
            "index": 22,
            "transformer": false,
            "ycoord_1": 0.10604914149059794,
            "pf": 0.057951100004696526
          },
          {
            "br_r": 0,
            "rate_a": 0.65,
            "xcoord_1": -0.9631560040726648,
            "pt": -0.1879146548921901,
            "br_x": 0.208,
            "ycoord_2": -0.5491250550055563,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": -0.2799771380737232,
            "b_to": 0,
            "index": 11,
            "transformer": false,
            "ycoord_1": -0.40424187831415276,
            "pf": 0.1879146548921901
          },
          {
            "br_r": 0.1093,
            "rate_a": 0.16,
            "xcoord_1": -0.6571263929072709,
            "pt": 0.04584799961826265,
            "br_x": 0.2087,
            "ycoord_2": 2.034265892719103,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": -1.8244685878599818,
            "b_to": 0,
            "index": 35,
            "transformer": false,
            "ycoord_1": 2.865579390948422,
            "pf": -0.0455519553894709
          },
          {
            "br_r": 0,
            "rate_a": 0.65,
            "xcoord_1": -0.2799771380737232,
            "pt": 0.12268098301936584,
            "br_x": 0.208,
            "ycoord_2": -2.0759730762700097,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 0.1637665401097318,
            "b_to": 0,
            "index": 13,
            "transformer": false,
            "ycoord_1": -0.5491250550055563,
            "pf": -0.12268098301936584
          },
          {
            "br_r": 0.0169,
            "rate_a": 0.32,
            "xcoord_1": -0.9631560040726648,
            "pt": -0.15387217489782953,
            "br_x": 0.0599,
            "ycoord_2": 0.7259678213532993,
            "ComponentType": "branch",
            "b_fr": 0.00325,
            "br_status": 1,
            "xcoord_2": -1.5503768365700952,
            "b_to": 0.00325,
            "index": 41,
            "transformer": false,
            "ycoord_1": -0.40424187831415276,
            "pf": 0.1542601678365413
          },
          {
            "br_r": 0.0472,
            "rate_a": 1.3,
            "xcoord_1": -1.0838430452290102,
            "pt": -0.61576063357087,
            "br_x": 0.1983,
            "ycoord_2": -2.0415481097589483,
            "ComponentType": "branch",
            "b_fr": 0.01045,
            "br_status": 1,
            "xcoord_2": -2.338210601986185,
            "b_to": 0.01045,
            "index": 5,
            "transformer": false,
            "ycoord_1": -1.5231373510768678,
            "pf": 0.6333428468388576
          },
          {
            "br_r": 0,
            "rate_a": 0.65,
            "xcoord_1": -0.0421953897937812,
            "pt": -0.31967377453986096,
            "br_x": 0.256,
            "ycoord_2": -1.1307008711020279,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 1.3835797830145098,
            "b_to": 0,
            "index": 15,
            "transformer": false,
            "ycoord_1": -1.2731239128848122,
            "pf": 0.31967377453986096
          },
          {
            "br_r": 0.0348,
            "rate_a": 0.32,
            "xcoord_1": 0.09304552180722177,
            "pt": -0.15752583097568212,
            "br_x": 0.0749,
            "ycoord_2": 1.3241011365452864,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": -0.5324229425987899,
            "b_to": 0,
            "index": 27,
            "transformer": false,
            "ycoord_1": 0.326775189374612,
            "pf": 0.15838047068825908
          },
          {
            "br_r": 0.115,
            "rate_a": 0.16,
            "xcoord_1": 0.1499211789192004,
            "pt": -0.056689273598139,
            "br_x": 0.179,
            "ycoord_2": 2.3837414637666834,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 0.6069340637609133,
            "b_to": 0,
            "index": 31,
            "transformer": false,
            "ycoord_1": 1.4752743109358846,
            "pf": 0.05815821836726061
          },
          {
            "br_r": 0.1885,
            "rate_a": 0.16,
            "xcoord_1": 0.6069340637609133,
            "pt": 0.010100400242130549,
            "br_x": 0.3292,
            "ycoord_2": 2.865579390948422,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": -0.6571263929072709,
            "b_to": 0,
            "index": 33,
            "transformer": false,
            "ycoord_1": 2.3837414637666834,
            "pf": -0.009619557193274985
          },
          {
            "br_r": 0.0727,
            "rate_a": 0.32,
            "xcoord_1": 0.09304552180722177,
            "pt": -0.07573245164651472,
            "br_x": 0.1499,
            "ycoord_2": 1.4752743109358846,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 0.1499211789192004,
            "b_to": 0,
            "index": 28,
            "transformer": false,
            "ycoord_1": 0.326775189374612,
            "pf": 0.07613974284546751
          },
          {
            "br_r": 0,
            "rate_a": 0.65,
            "xcoord_1": 1.3835797830145098,
            "pt": 0.11999999352271845,
            "br_x": 0.14,
            "ycoord_2": -2.418321580347937,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 2.08099919086638,
            "b_to": 0,
            "index": 16,
            "transformer": false,
            "ycoord_1": -1.1307008711020279,
            "pf": -0.11999999352271845
          },
          {
            "br_r": 0,
            "rate_a": 0.65,
            "xcoord_1": -0.2799771380737232,
            "pt": -0.310595637911556,
            "br_x": 0.11,
            "ycoord_2": 0.326775189374612,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 0.09304552180722177,
            "b_to": 0,
            "index": 14,
            "transformer": false,
            "ycoord_1": -0.5491250550055563,
            "pf": 0.310595637911556
          },
          {
            "br_r": 0.2399,
            "rate_a": 0.16,
            "xcoord_1": -2.5165176545630343,
            "pt": -0.03670282438637748,
            "br_x": 0.4533,
            "ycoord_2": 2.26386740968954,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": -3.04413534185743,
            "b_to": 0,
            "index": 39,
            "transformer": false,
            "ycoord_1": 2.904106712996825,
            "pf": 0.03704690737486195
          },
          {
            "br_r": 0.0636,
            "rate_a": 0.32,
            "xcoord_1": -2.0116257713794434,
            "pt": -0.024867893100668746,
            "br_x": 0.2,
            "ycoord_2": 0.7259678213532993,
            "ComponentType": "branch",
            "b_fr": 0.0107,
            "br_status": 1,
            "xcoord_2": -1.5503768365700952,
            "b_to": 0.0107,
            "index": 40,
            "transformer": false,
            "ycoord_1": 0.09610773687524607,
            "pf": 0.02491666792892285
          },
          {
            "br_r": 0.0824,
            "rate_a": 0.16,
            "xcoord_1": 2.016809695456829,
            "pt": -0.03390359383969563,
            "br_x": 0.1932,
            "ycoord_2": -0.22637741823869867,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 0.993168903480217,
            "b_to": 0,
            "index": 21,
            "transformer": false,
            "ycoord_1": -1.2194952245855055,
            "pf": 0.03401114185227309
          },
          {
            "br_r": 0.3202,
            "rate_a": 0.16,
            "xcoord_1": -1.8244685878599818,
            "pt": -0.06929717561362252,
            "br_x": 0.6027,
            "ycoord_2": 2.26386740968954,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": -3.04413534185743,
            "b_to": 0,
            "index": 38,
            "transformer": false,
            "ycoord_1": 2.034265892719103,
            "pf": 0.07096072600377147
          },
          {
            "br_r": 0.0119,
            "rate_a": 0.9,
            "xcoord_1": -0.0421953897937812,
            "pt": -0.48009556035064976,
            "br_x": 0.0414,
            "ycoord_2": -0.40424187831415276,
            "ComponentType": "branch",
            "b_fr": 0.00225,
            "br_status": 1,
            "xcoord_2": -0.9631560040726648,
            "b_to": 0.00225,
            "index": 7,
            "transformer": false,
            "ycoord_1": -1.2731239128848122,
            "pf": 0.4827792987922409
          },
          {
            "br_r": 0.2544,
            "rate_a": 0.16,
            "xcoord_1": -0.6571263929072709,
            "pt": -0.035,
            "br_x": 0.38,
            "ycoord_2": 4.047519357584724,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": -0.6274435711915837,
            "b_to": 0,
            "index": 34,
            "transformer": false,
            "ycoord_1": 2.865579390948422,
            "pf": 0.03545155514734035
          },
          {
            "br_r": 0.046,
            "rate_a": 0.7,
            "xcoord_1": -2.338210601986185,
            "pt": 0.11183737744518323,
            "br_x": 0.116,
            "ycoord_2": -0.9274720296534847,
            "ComponentType": "branch",
            "b_fr": 0.0051,
            "br_status": 1,
            "xcoord_2": -2.0816979970431477,
            "b_to": 0.0051,
            "index": 8,
            "transformer": false,
            "ycoord_1": -2.0415481097589483,
            "pf": -0.11098744772349546
          },
          {
            "br_r": 0,
            "rate_a": 0.65,
            "xcoord_1": -1.5503768365700952,
            "pt": -0.17874006799849826,
            "br_x": 0.396,
            "ycoord_2": 2.034265892719103,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": -1.8244685878599818,
            "b_to": 0,
            "index": 36,
            "transformer": false,
            "ycoord_1": 0.7259678213532993,
            "pf": 0.17874006799849826
          },
          {
            "br_r": 0.0324,
            "rate_a": 0.32,
            "xcoord_1": 0.09304552180722177,
            "pt": -0.05609640616030437,
            "br_x": 0.0845,
            "ycoord_2": -0.22637741823869867,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 0.993168903480217,
            "b_to": 0,
            "index": 26,
            "transformer": false,
            "ycoord_1": 0.326775189374612,
            "pf": 0.05625670760375474
          },
          {
            "br_r": 0.1231,
            "rate_a": 0.32,
            "xcoord_1": 1.3835797830145098,
            "pt": -0.07658390460738547,
            "br_x": 0.2559,
            "ycoord_2": -0.8604079433446993,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 2.6151579058347316,
            "b_to": 0,
            "index": 17,
            "transformer": false,
            "ycoord_1": -1.1307008711020279,
            "pf": 0.07729822881008615
          },
          {
            "br_r": 0.012,
            "rate_a": 0.32,
            "xcoord_1": -0.9631560040726648,
            "pt": -0.10238589812242418,
            "br_x": 0.042,
            "ycoord_2": 0.09610773687524607,
            "ComponentType": "branch",
            "b_fr": 0.00225,
            "br_status": 1,
            "xcoord_2": -2.0116257713794434,
            "b_to": 0.00225,
            "index": 10,
            "transformer": false,
            "ycoord_1": -0.40424187831415276,
            "pf": 0.10257752219100996
          },
          {
            "br_r": 0.0945,
            "rate_a": 0.32,
            "xcoord_1": 1.3835797830145098,
            "pt": -0.0690111418522731,
            "br_x": 0.1987,
            "ycoord_2": -1.2194952245855055,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 2.016809695456829,
            "b_to": 0,
            "index": 19,
            "transformer": false,
            "ycoord_1": -1.1307008711020279,
            "pf": 0.06953791143255647
          },
          {
            "br_r": 0.2198,
            "rate_a": 0.16,
            "xcoord_1": -1.8244685878599818,
            "pt": -0.06104690737486195,
            "br_x": 0.4153,
            "ycoord_2": 2.904106712996825,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": -2.5165176545630343,
            "b_to": 0,
            "index": 37,
            "transformer": false,
            "ycoord_1": 2.034265892719103,
            "pf": 0.06193134237646415
          },
          {
            "br_r": 0.0267,
            "rate_a": 1.3,
            "xcoord_1": -0.9631560040726648,
            "pt": -0.3398373774451832,
            "br_x": 0.082,
            "ycoord_2": -0.9274720296534847,
            "ComponentType": "branch",
            "b_fr": 0.00425,
            "br_status": 1,
            "xcoord_2": -2.0816979970431477,
            "b_to": 0.00425,
            "index": 9,
            "transformer": false,
            "ycoord_1": -0.40424187831415276,
            "pf": 0.34288364863309645
          },
          {
            "br_r": 0.0662,
            "rate_a": 0.32,
            "xcoord_1": 1.3835797830145098,
            "pt": -0.17874879153162765,
            "br_x": 0.1304,
            "ycoord_2": 0.10604914149059794,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 2.1465575840932116,
            "b_to": 0,
            "index": 18,
            "transformer": false,
            "ycoord_1": -1.1307008711020279,
            "pf": 0.18083762781993684
          },
          {
            "br_r": 0.1,
            "rate_a": 0.16,
            "xcoord_1": 2.1465575840932116,
            "pt": -0.05298971857220322,
            "br_x": 0.202,
            "ycoord_2": 1.5831168934028088,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 1.790472890065299,
            "b_to": 0,
            "index": 30,
            "transformer": false,
            "ycoord_1": 0.10604914149059794,
            "pf": 0.053334541402790286
          },
          {
            "br_r": 0.057,
            "rate_a": 0.65,
            "xcoord_1": -1.0838430452290102,
            "pt": -0.334172101641783,
            "br_x": 0.1737,
            "ycoord_2": -1.2731239128848122,
            "ComponentType": "branch",
            "b_fr": 0.0092,
            "br_status": 1,
            "xcoord_2": -0.0421953897937812,
            "b_to": 0.0092,
            "index": 3,
            "transformer": false,
            "ycoord_1": -1.5231373510768678,
            "pf": 0.34029340319838847
          }
        ]
      },
      "layer": [
        {
          "mark": {
            "tooltip": {"content": "data"},
            "opacity": 1,
            "type": "rule"
          },
          "encoding": {
            "x": {"type": "quantitative", "field": "xcoord_1"},
            "x2": {"type": "quantitative", "field": "xcoord_2"},
            "y": {"type": "quantitative", "field": "ycoord_1"},
            "y2": {"type": "quantitative", "field": "ycoord_2"},
            "size": {"value": 5},
            "color": {
              "field": "branch_Percent_Loading",
              "type": "quantitative",
              "title": "Carga de línea [%]",
              "scale": {
                "range": ["green", "yellow", "red"],
                "domain": [0, 100]
              },
              "legend": {"offset": -50, "orient": "bottom-right"}
            }
          }
        },
        {
          "transform": [
            {"calculate": "(datum.xcoord_1 + datum.xcoord_2)/2", "as": "mid_x"},
            {"calculate": "(datum.ycoord_1 + datum.ycoord_2)/2", "as": "mid_y"},
            {
              "calculate": "180*(if(datum.pf >= 0,\n                            atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                            atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                        ))/PI",
              "as": "angle"
            },
            {
              "calculate": "if(isValid(datum.pt), abs(datum.pt), 0.0)",
              "as": "power"
            }
          ],
          "mark": {
            "shape": "wedge",
            "filled": true,
            "tooltip": {"content": "data"},
            "opacity": 0,
            "color": "white",
            "type": "point",
            "stroke": "black"
          },
          "encoding": {
            "x": {"type": "quantitative", "field": "mid_x"},
            "y": {"type": "quantitative", "field": "mid_y"},
            "size": {
              "scale": {"range": [0, 4000]},
              "type": "quantitative",
              "legend": null,
              "field": "power"
            },
            "angle": {
              "scale": {"domain": [0, 360], "range": [0, 360]},
              "type": "quantitative",
              "field": "angle"
            }
          }
        }
      ],
      "transform": [
        {
          "calculate": "abs(datum.pt)/datum.rate_a*100",
          "as": "branch_Percent_Loading"
        },
        {"calculate": "abs(datum.pt)", "as": "BranchPower"}
      ]
    },
    {
      "mark": {"tooltip": {"content": "data"}, "opacity": 1, "type": "rule"},
      "data": {
        "values": [
          {
            "source_id": ["load", "14"],
            "xcoord_1": 2.5870634844130826,
            "ycoord_1": 1.445225616361202,
            "src": ["bus", "19"],
            "xcoord_2": 2.9706221688785237,
            "ycoord_2": 1.8663972952981218,
            "dst": ["load", "14"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["gen", "6"],
            "xcoord_1": 2.08099919086638,
            "ycoord_1": -2.418321580347937,
            "src": ["bus", "13"],
            "xcoord_2": 2.4287426966048735,
            "ycoord_2": -2.841091957291236,
            "dst": ["gen", "6"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "21"],
            "xcoord_1": -3.04413534185743,
            "ycoord_1": 2.26386740968954,
            "src": ["bus", "30"],
            "xcoord_2": -3.571575320982239,
            "ycoord_2": 2.40922675169441,
            "dst": ["load", "21"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "12"],
            "xcoord_1": 0.993168903480217,
            "ycoord_1": -0.22637741823869867,
            "src": ["bus", "17"],
            "xcoord_2": 1.412996964490143,
            "ycoord_2": 0.02266205206153976,
            "dst": ["load", "12"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "5"],
            "xcoord_1": -2.0816979970431477,
            "ycoord_1": -0.9274720296534847,
            "src": ["bus", "7"],
            "xcoord_2": -2.6408694033919775,
            "ycoord_2": -0.9022642070163205,
            "dst": ["load", "5"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "15"],
            "xcoord_1": 1.1533314619981863,
            "ycoord_1": 1.064921328997786,
            "src": ["bus", "20"],
            "xcoord_2": 1.2198554862360134,
            "ycoord_2": 1.5822682718731018,
            "dst": ["load", "15"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "10"],
            "xcoord_1": 2.1465575840932116,
            "ycoord_1": 0.10604914149059794,
            "src": ["bus", "15"],
            "xcoord_2": 2.6206691228588515,
            "ycoord_2": 0.1089147914660378,
            "dst": ["load", "10"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "11"],
            "xcoord_1": 2.016809695456829,
            "ycoord_1": -1.2194952245855055,
            "src": ["bus", "16"],
            "xcoord_2": 2.452639057776919,
            "ycoord_2": -1.6115855406610329,
            "dst": ["load", "11"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "4"],
            "xcoord_1": -2.338210601986185,
            "ycoord_1": -2.0415481097589483,
            "src": ["bus", "5"],
            "xcoord_2": -2.5314866479201723,
            "ycoord_2": -2.5651851210885077,
            "dst": ["load", "4"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "1"],
            "xcoord_1": -1.0838430452290102,
            "ycoord_1": -1.5231373510768678,
            "src": ["bus", "2"],
            "xcoord_2": -1.1235938364572118,
            "ycoord_2": -1.972105123078653,
            "dst": ["load", "1"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "9"],
            "xcoord_1": 2.6151579058347316,
            "ycoord_1": -0.8604079433446993,
            "src": ["bus", "14"],
            "xcoord_2": 3.149375491315505,
            "ycoord_2": -1.0778155787647838,
            "dst": ["load", "9"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["gen", "3"],
            "xcoord_1": -2.338210601986185,
            "ycoord_1": -2.0415481097589483,
            "src": ["bus", "5"],
            "xcoord_2": -2.895291011105894,
            "ycoord_2": -2.084676067091691,
            "dst": ["gen", "3"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "2"],
            "xcoord_1": -0.1293103190565832,
            "ycoord_1": -2.751538362018932,
            "src": ["bus", "3"],
            "xcoord_2": 0.023550961822503318,
            "ycoord_2": -3.2979745388118284,
            "dst": ["load", "2"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "18"],
            "xcoord_1": 0.6069340637609133,
            "ycoord_1": 2.3837414637666834,
            "src": ["bus", "24"],
            "xcoord_2": 0.8040364060359839,
            "ycoord_2": 2.873758932556848,
            "dst": ["load", "18"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "8"],
            "xcoord_1": 1.3835797830145098,
            "ycoord_1": -1.1307008711020279,
            "src": ["bus", "12"],
            "xcoord_2": 1.461378178592685,
            "ycoord_2": -1.5927554821124976,
            "dst": ["load", "8"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["gen", "5"],
            "xcoord_1": 0.1637665401097318,
            "ycoord_1": -2.0759730762700097,
            "src": ["bus", "11"],
            "xcoord_2": 0.3749756513424117,
            "ycoord_2": -2.635424140394936,
            "dst": ["gen", "5"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["gen", "4"],
            "xcoord_1": -2.0116257713794434,
            "ycoord_1": 0.09610773687524607,
            "src": ["bus", "8"],
            "xcoord_2": -2.4406250617544254,
            "ycoord_2": 0.4305576440871768,
            "dst": ["gen", "4"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "19"],
            "xcoord_1": -0.6274435711915837,
            "ycoord_1": 4.047519357584724,
            "src": ["bus", "26"],
            "xcoord_2": -0.6140159701346191,
            "ycoord_2": 4.572735264335422,
            "dst": ["load", "19"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "3"],
            "xcoord_1": -0.0421953897937812,
            "ycoord_1": -1.2731239128848122,
            "src": ["bus", "4"],
            "xcoord_2": 0.11380442975010645,
            "ycoord_2": -1.641850589856492,
            "dst": ["load", "3"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "17"],
            "xcoord_1": 1.790472890065299,
            "ycoord_1": 1.5831168934028088,
            "src": ["bus", "23"],
            "xcoord_2": 2.12295325612566,
            "ycoord_2": 2.0426233920770467,
            "dst": ["load", "17"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "7"],
            "xcoord_1": 0.09304552180722177,
            "ycoord_1": 0.326775189374612,
            "src": ["bus", "10"],
            "xcoord_2": -0.23247593038899123,
            "ycoord_2": 0.522720601716149,
            "dst": ["load", "7"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["gen", "2"],
            "xcoord_1": -1.0838430452290102,
            "ycoord_1": -1.5231373510768678,
            "src": ["bus", "2"],
            "xcoord_2": -1.5168880539485194,
            "ycoord_2": -1.5443734920441214,
            "dst": ["gen", "2"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "6"],
            "xcoord_1": -2.0116257713794434,
            "ycoord_1": 0.09610773687524607,
            "src": ["bus", "8"],
            "xcoord_2": -2.561972395912843,
            "ycoord_2": -0.04722160960032354,
            "dst": ["load", "6"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "20"],
            "xcoord_1": -2.5165176545630343,
            "ycoord_1": 2.904106712996825,
            "src": ["bus", "29"],
            "xcoord_2": -2.8234190098750735,
            "ycoord_2": 3.346914847988755,
            "dst": ["load", "20"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["gen", "1"],
            "xcoord_1": -1.1830923418616932,
            "ycoord_1": -2.8808468492501356,
            "src": ["bus", "1"],
            "xcoord_2": -1.396730414178842,
            "ycoord_2": -3.388977950090223,
            "dst": ["gen", "1"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "16"],
            "xcoord_1": -0.5324229425987899,
            "ycoord_1": 1.3241011365452864,
            "src": ["bus", "21"],
            "xcoord_2": -0.7930992885554502,
            "ycoord_2": 1.7926308891436873,
            "dst": ["load", "16"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "13"],
            "xcoord_1": 3.2650322904349816,
            "ycoord_1": 0.6207202449455728,
            "src": ["bus", "18"],
            "xcoord_2": 3.8062019145659938,
            "ycoord_2": 0.646860677468526,
            "dst": ["load", "13"],
            "ComponentType": "connector"
          }
        ]
      },
      "encoding": {
        "x": {"type": "quantitative", "field": "xcoord_1"},
        "x2": {"type": "quantitative", "field": "xcoord_2"},
        "y": {"type": "quantitative", "field": "ycoord_1"},
        "y2": {"type": "quantitative", "field": "ycoord_2"},
        "size": {"value": 3},
        "strokeDash": {"value": [4, 4]},
        "color": {
          "field": "ComponentType",
          "type": "nominal",
          "title": "Líneas",
          "scale": {"range": ["gray"]}
        }
      }
    },
    {
      "data": {
        "values": [
          {
            "zone": 1,
            "xcoord_1": 0.6069340637609133,
            "bus_i": 24,
            "bus_type": 1,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 24,
            "va": -0.24261657610236867,
            "vm": 1.0263438735557928,
            "ycoord_1": 2.3837414637666834,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": -0.0421953897937812,
            "bus_i": 4,
            "bus_type": 1,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 4,
            "va": -0.12053196112524493,
            "vm": 1.0222799398119438,
            "ycoord_1": -1.2731239128848122,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": -1.1830923418616932,
            "bus_i": 1,
            "bus_type": 3,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 1,
            "va": -5.392830717197135e-36,
            "vm": 1.0500000103690357,
            "ycoord_1": -2.8808468492501356,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": 1.3835797830145098,
            "bus_i": 12,
            "bus_type": 1,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 12,
            "va": -0.19814342376558208,
            "vm": 1.032493564486237,
            "ycoord_1": -1.1307008711020279,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": -2.5165176545630343,
            "bus_i": 29,
            "bus_type": 1,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 29,
            "va": -0.24019295429913667,
            "vm": 0.9912968476169912,
            "ycoord_1": 2.904106712996825,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": 1.1533314619981863,
            "bus_i": 20,
            "bus_type": 1,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 20,
            "va": -0.22661997136039397,
            "vm": 1.0057703925784514,
            "ycoord_1": 1.064921328997786,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": -1.0838430452290102,
            "bus_i": 2,
            "bus_type": 2,
            "vmax": 1.1,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 2,
            "va": -0.06455899386118351,
            "vm": 1.038522022607502,
            "ycoord_1": -1.5231373510768678,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": -0.9631560040726648,
            "bus_i": 6,
            "bus_type": 1,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 6,
            "va": -0.1403051251637396,
            "vm": 1.0189280818138677,
            "ycoord_1": -0.40424187831415276,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": -0.6571263929072709,
            "bus_i": 25,
            "bus_type": 1,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 25,
            "va": -0.23032139539597726,
            "vm": 1.0118492063271993,
            "ycoord_1": 2.865579390948422,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": 1.790472890065299,
            "bus_i": 23,
            "bus_type": 1,
            "vmax": 1.1,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 23,
            "va": -0.2316781813928173,
            "vm": 1.017436079725912,
            "ycoord_1": 1.5831168934028088,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": 0.1499211789192004,
            "bus_i": 22,
            "bus_type": 1,
            "vmax": 1.1,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 22,
            "va": -0.22170795323360534,
            "vm": 1.0152677237194472,
            "ycoord_1": 1.4752743109358846,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": 0.1637665401097318,
            "bus_i": 11,
            "bus_type": 2,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 11,
            "va": -0.15400193770166767,
            "vm": 1.0500000084624952,
            "ycoord_1": -2.0759730762700097,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": 2.08099919086638,
            "bus_i": 13,
            "bus_type": 2,
            "vmax": 1.1,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 13,
            "va": -0.1828024445971127,
            "vm": 1.060683613785995,
            "ycoord_1": -2.418321580347937,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": -2.338210601986185,
            "bus_i": 5,
            "bus_type": 2,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 5,
            "va": -0.18320079183150992,
            "vm": 1.0120459211295656,
            "ycoord_1": -2.0415481097589483,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": 2.1465575840932116,
            "bus_i": 15,
            "bus_type": 1,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 15,
            "va": -0.21866929939626867,
            "vm": 1.0172511862611,
            "ycoord_1": 0.10604914149059794,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": -1.8244685878599818,
            "bus_i": 27,
            "bus_type": 1,
            "vmax": 1.1,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 27,
            "va": -0.21820960147048923,
            "vm": 1.0113941649213858,
            "ycoord_1": 2.034265892719103,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": -1.5503768365700952,
            "bus_i": 28,
            "bus_type": 1,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 28,
            "va": -0.14932638440020063,
            "vm": 1.0167794042408218,
            "ycoord_1": 0.7259678213532993,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": 2.016809695456829,
            "bus_i": 16,
            "bus_type": 1,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 16,
            "va": -0.20828036560916585,
            "vm": 1.0197787033088215,
            "ycoord_1": -1.2194952245855055,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": 2.6151579058347316,
            "bus_i": 14,
            "bus_type": 1,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 14,
            "va": -0.21523166541587668,
            "vm": 1.0198262096384976,
            "ycoord_1": -0.8604079433446993,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": -0.5324229425987899,
            "bus_i": 21,
            "bus_type": 1,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 21,
            "va": -0.22106625265376567,
            "vm": 1.0129136327110213,
            "ycoord_1": 1.3241011365452864,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": -2.0816979970431477,
            "bus_i": 7,
            "bus_type": 1,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 7,
            "va": -0.16691321525772956,
            "vm": 1.0079080776738518,
            "ycoord_1": -0.9274720296534847,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": -2.0116257713794434,
            "bus_i": 8,
            "bus_type": 2,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 8,
            "va": -0.14534439724179987,
            "vm": 1.02094091819796,
            "ycoord_1": 0.09610773687524607,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": -0.6274435711915837,
            "bus_i": 26,
            "bus_type": 1,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 26,
            "va": -0.237726932094975,
            "vm": 0.9940722476108926,
            "ycoord_1": 4.047519357584724,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": 0.993168903480217,
            "bus_i": 17,
            "bus_type": 1,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 17,
            "va": -0.213504514232501,
            "vm": 1.0143612502086987,
            "ycoord_1": -0.22637741823869867,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": 0.09304552180722177,
            "bus_i": 10,
            "bus_type": 1,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 10,
            "va": -0.2103032372714961,
            "vm": 1.0198310947473408,
            "ycoord_1": 0.326775189374612,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": 2.5870634844130826,
            "bus_i": 19,
            "bus_type": 1,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 19,
            "va": -0.2306828442871247,
            "vm": 1.002141715950385,
            "ycoord_1": 1.445225616361202,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": -0.2799771380737232,
            "bus_i": 9,
            "bus_type": 1,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 9,
            "va": -0.17767165595372436,
            "vm": 1.026830463475931,
            "ycoord_1": -0.5491250550055563,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": 3.2650322904349816,
            "bus_i": 18,
            "bus_type": 1,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 18,
            "va": -0.2283931781094299,
            "vm": 1.0057551366205673,
            "ycoord_1": 0.6207202449455728,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": -3.04413534185743,
            "bus_i": 30,
            "bus_type": 1,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 30,
            "va": -0.2559843736792708,
            "vm": 0.9796738980976943,
            "ycoord_1": 2.26386740968954,
            "base_kv": 135
          },
          {
            "zone": 1,
            "xcoord_1": -0.1293103190565832,
            "bus_i": 3,
            "bus_type": 1,
            "vmax": 1.05,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.95,
            "index": 3,
            "va": -0.1002139919902534,
            "vm": 1.02751874771794,
            "ycoord_1": -2.751538362018932,
            "base_kv": 135
          }
        ]
      },
      "mark": {
        "tooltip": {"content": "data"},
        "opacity": 1,
        "type": "point",
        "shape": "triangle-down"
      },
      "encoding": {
        "x": {"type": "quantitative", "field": "xcoord_1"},
        "y": {"type": "quantitative", "field": "ycoord_1"},
        "size": {"value": 100},
        "color": {
          "field": "ComponentType",
          "type": "nominal",
          "title": "Nodos",
          "scale": {"range": ["purple"]}
        }
      }
    },
    {
      "data": {
        "values": [
          {
            "pg": 0.22253076980649866,
            "model": 2,
            "xcoord_1": -2.4406250617544254,
            "qg": 0.3783587610355755,
            "pmax": 0.35,
            "pg_cost": 76.45246347590219,
            "ComponentType": "gen",
            "mbase": 100,
            "index": 4,
            "qmax": 0.6,
            "gen_status": 1,
            "qmin": -0.15,
            "ycoord_1": 0.4305576440871768,
            "pmin": 0.1
          },
          {
            "pg": 1.7617252638972447,
            "model": 2,
            "xcoord_1": -1.396730414178842,
            "qg": -0.15560282412126827,
            "pmax": 2,
            "pg_cost": 468.7328992339671,
            "ComponentType": "gen",
            "mbase": 100,
            "index": 1,
            "qmax": 2.5,
            "gen_status": 1,
            "qmin": -0.2,
            "ycoord_1": -3.388977950090223,
            "pmin": 0.5
          },
          {
            "pg": 0.12268098301936584,
            "model": 2,
            "xcoord_1": 0.3749756513424117,
            "qg": 0.11841362625400954,
            "pmax": 0.3,
            "pg_cost": 40.56695080445923,
            "ComponentType": "gen",
            "mbase": 100,
            "index": 5,
            "qmax": 0.5,
            "gen_status": 1,
            "qmin": -0.1,
            "ycoord_1": -2.635424140394936,
            "pmin": 0.1
          },
          {
            "pg": 0.4886251333925632,
            "model": 2,
            "xcoord_1": -1.5168880539485194,
            "qg": 0.3028665310125582,
            "pmax": 0.8,
            "pg_cost": 127.2914395157061,
            "ComponentType": "gen",
            "mbase": 100,
            "index": 2,
            "qmax": 1,
            "gen_status": 1,
            "qmin": -0.2,
            "ycoord_1": -1.5443734920441214,
            "pmin": 0.2
          },
          {
            "pg": 0.11999999352271845,
            "model": 2,
            "xcoord_1": 2.4287426966048735,
            "qg": 0.21449707213902633,
            "pmax": 0.4,
            "pg_cost": 39.59999766817865,
            "ComponentType": "gen",
            "mbase": 100,
            "index": 6,
            "qmax": 0.6,
            "gen_status": 1,
            "qmin": -0.15,
            "ycoord_1": -2.841091957291236,
            "pmin": 0.12
          },
          {
            "pg": 0.21525191870563462,
            "model": 2,
            "xcoord_1": -2.895291011105894,
            "qg": 0.30405294225739293,
            "pmax": 0.5,
            "pg_cost": 50.483559687099174,
            "ComponentType": "gen",
            "mbase": 100,
            "index": 3,
            "qmax": 0.8,
            "gen_status": 1,
            "qmin": -0.15,
            "ycoord_1": -2.084676067091691,
            "pmin": 0.15
          }
        ]
      },
      "mark": {"tooltip": {"content": "data"}, "opacity": 1, "type": "circle"},
      "encoding": {
        "x": {"type": "quantitative", "field": "xcoord_1"},
        "y": {"type": "quantitative", "field": "ycoord_1"},
        "size": {
          "field": "GenPower",
          "title": "Potencia máx gen [pu]",
          "type": "quantitative",
          "scale": {"range": [10, 750]}
        },
        "color": {
          "field": "gen_Percent_Loading",
          "type": "quantitative",
          "title": "Carga de generador [%]",
          "scale": {"range": ["green", "yellow", "red"], "domain": [0, 100]},
          "legend": {"orient": "bottom-right"}
        }
      },
      "transform": [
        {
          "calculate": "datum.pg/(datum.pmax+1e-9)*100",
          "as": "gen_Percent_Loading"
        },
        {"calculate": "datum.pmax", "as": "GenPower"}
      ]
    },
    {
      "data": {
        "values": [
          {
            "source_id": "Any[\"bus\", 5]",
            "ComponentType": "load",
            "load_bus": 5,
            "status": 1,
            "xcoord_1": -2.5314866479201723,
            "ycoord_1": -2.5651851210885077,
            "qd": 0.19,
            "pd": 0.9420000000000001,
            "index": 4
          },
          {
            "source_id": "Any[\"bus\", 2]",
            "ComponentType": "load",
            "load_bus": 2,
            "status": 1,
            "xcoord_1": -1.1235938364572118,
            "ycoord_1": -1.972105123078653,
            "qd": 0.127,
            "pd": 0.217,
            "index": 1
          },
          {
            "source_id": "Any[\"bus\", 17]",
            "ComponentType": "load",
            "load_bus": 17,
            "status": 1,
            "xcoord_1": 1.412996964490143,
            "ycoord_1": 0.02266205206153976,
            "qd": 0.057999999999999996,
            "pd": 0.09,
            "index": 12
          },
          {
            "source_id": "Any[\"bus\", 29]",
            "ComponentType": "load",
            "load_bus": 29,
            "status": 1,
            "xcoord_1": -2.8234190098750735,
            "ycoord_1": 3.346914847988755,
            "qd": 0.009000000000000001,
            "pd": 0.024,
            "index": 20
          },
          {
            "source_id": "Any[\"bus\", 3]",
            "ComponentType": "load",
            "load_bus": 3,
            "status": 1,
            "xcoord_1": 0.023550961822503318,
            "ycoord_1": -3.2979745388118284,
            "qd": 0.012,
            "pd": 0.024,
            "index": 2
          },
          {
            "source_id": "Any[\"bus\", 8]",
            "ComponentType": "load",
            "load_bus": 8,
            "status": 1,
            "xcoord_1": -2.561972395912843,
            "ycoord_1": -0.04722160960032354,
            "qd": 0.3,
            "pd": 0.3,
            "index": 6
          },
          {
            "source_id": "Any[\"bus\", 16]",
            "ComponentType": "load",
            "load_bus": 16,
            "status": 1,
            "xcoord_1": 2.452639057776919,
            "ycoord_1": -1.6115855406610329,
            "qd": 0.018000000000000002,
            "pd": 0.035,
            "index": 11
          },
          {
            "source_id": "Any[\"bus\", 18]",
            "ComponentType": "load",
            "load_bus": 18,
            "status": 1,
            "xcoord_1": 3.8062019145659938,
            "ycoord_1": 0.646860677468526,
            "qd": 0.009000000000000001,
            "pd": 0.032,
            "index": 13
          },
          {
            "source_id": "Any[\"bus\", 7]",
            "ComponentType": "load",
            "load_bus": 7,
            "status": 1,
            "xcoord_1": -2.6408694033919775,
            "ycoord_1": -0.9022642070163205,
            "qd": 0.109,
            "pd": 0.228,
            "index": 5
          },
          {
            "source_id": "Any[\"bus\", 20]",
            "ComponentType": "load",
            "load_bus": 20,
            "status": 1,
            "xcoord_1": 1.2198554862360134,
            "ycoord_1": 1.5822682718731018,
            "qd": 0.006999999999999999,
            "pd": 0.022000000000000002,
            "index": 15
          },
          {
            "source_id": "Any[\"bus\", 21]",
            "ComponentType": "load",
            "load_bus": 21,
            "status": 1,
            "xcoord_1": -0.7930992885554502,
            "ycoord_1": 1.7926308891436873,
            "qd": 0.11199999999999999,
            "pd": 0.175,
            "index": 16
          },
          {
            "source_id": "Any[\"bus\", 19]",
            "ComponentType": "load",
            "load_bus": 19,
            "status": 1,
            "xcoord_1": 2.9706221688785237,
            "ycoord_1": 1.8663972952981218,
            "qd": 0.034,
            "pd": 0.095,
            "index": 14
          },
          {
            "source_id": "Any[\"bus\", 30]",
            "ComponentType": "load",
            "load_bus": 30,
            "status": 1,
            "xcoord_1": -3.571575320982239,
            "ycoord_1": 2.40922675169441,
            "qd": 0.019,
            "pd": 0.106,
            "index": 21
          },
          {
            "source_id": "Any[\"bus\", 10]",
            "ComponentType": "load",
            "load_bus": 10,
            "status": 1,
            "xcoord_1": -0.23247593038899123,
            "ycoord_1": 0.522720601716149,
            "qd": 0.02,
            "pd": 0.057999999999999996,
            "index": 7
          },
          {
            "source_id": "Any[\"bus\", 12]",
            "ComponentType": "load",
            "load_bus": 12,
            "status": 1,
            "xcoord_1": 1.461378178592685,
            "ycoord_1": -1.5927554821124976,
            "qd": 0.075,
            "pd": 0.11199999999999999,
            "index": 8
          },
          {
            "source_id": "Any[\"bus\", 23]",
            "ComponentType": "load",
            "load_bus": 23,
            "status": 1,
            "xcoord_1": 2.12295325612566,
            "ycoord_1": 2.0426233920770467,
            "qd": 0.016,
            "pd": 0.032,
            "index": 17
          },
          {
            "source_id": "Any[\"bus\", 15]",
            "ComponentType": "load",
            "load_bus": 15,
            "status": 1,
            "xcoord_1": 2.6206691228588515,
            "ycoord_1": 0.1089147914660378,
            "qd": 0.025,
            "pd": 0.08199999999999999,
            "index": 10
          },
          {
            "source_id": "Any[\"bus\", 26]",
            "ComponentType": "load",
            "load_bus": 26,
            "status": 1,
            "xcoord_1": -0.6140159701346191,
            "ycoord_1": 4.572735264335422,
            "qd": 0.023,
            "pd": 0.035,
            "index": 19
          },
          {
            "source_id": "Any[\"bus\", 14]",
            "ComponentType": "load",
            "load_bus": 14,
            "status": 1,
            "xcoord_1": 3.149375491315505,
            "ycoord_1": -1.0778155787647838,
            "qd": 0.016,
            "pd": 0.062,
            "index": 9
          },
          {
            "source_id": "Any[\"bus\", 24]",
            "ComponentType": "load",
            "load_bus": 24,
            "status": 1,
            "xcoord_1": 0.8040364060359839,
            "ycoord_1": 2.873758932556848,
            "qd": 0.067,
            "pd": 0.087,
            "index": 18
          },
          {
            "source_id": "Any[\"bus\", 4]",
            "ComponentType": "load",
            "load_bus": 4,
            "status": 1,
            "xcoord_1": 0.11380442975010645,
            "ycoord_1": -1.641850589856492,
            "qd": 0.016,
            "pd": 0.076,
            "index": 3
          }
        ]
      },
      "mark": {"tooltip": {"content": "data"}, "opacity": 1, "type": "square"},
      "encoding": {
        "x": {"type": "quantitative", "field": "xcoord_1"},
        "y": {"type": "quantitative", "field": "ycoord_1"},
        "size": {
          "field": "pd",
          "title": "Demanda [pu]",
          "type": "quantitative",
          "scale": {"range": [10, 750]}
        },
        "color": {
          "field": "ComponentType",
          "type": "nominal",
          "title": "Demanda",
          "scale": {"range": ["blue"]},
          "legend": {"orient": "bottom-right"}
        }
      }
    }
  ]
};
    vegaEmbed("#vis", spec, {mode: "vega-lite"}).then(console.log).catch(console.warn);
  </script>
</body>
</html>