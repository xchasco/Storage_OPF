<!DOCTYPE html>
<html>
<head>
  <script src="https://cdn.jsdelivr.net/npm/vega@5.30.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.20.1"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.26.0"></script>
</head>
<body>
  <div id="vis"/>
  <script>
    const spec = {
  "width": 500,
  "height": 500,
  "config": {"view": {"stroke": null}},
  "resolve": {"scale": {"color": "shared", "size": "independent"}},
  "encoding": {
    "x": {
      "axis": null,
      "scale": {"domain": [-5.988417823876669, 5.662858327789515]}
    },
    "y": {
      "axis": null,
      "scale": {"domain": [-4.888872782545868, 5.89355161792763]}
    },
    "color": {"legend": {"orient": "bottom"}}
  },
  "layer": [
    {
      "data": {
        "values": [
          {
            "br_r": 0.0007,
            "rate_a": 9,
            "xcoord_1": -0.8935706715647779,
            "pt": -1.7443519140654546,
            "br_x": 0.0138,
            "ycoord_2": 3.7882213094231982,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": -1.854847569293565,
            "b_to": 0,
            "index": 32,
            "transformer": true,
            "ycoord_1": 2.995967032696764,
            "pf": 1.7465014902695664
          },
          {
            "br_r": 0.0003,
            "rate_a": 6,
            "xcoord_1": 0.09830854775524903,
            "pt": 0.6451376901963166,
            "br_x": 0.0059,
            "ycoord_2": 3.0631249889018997,
            "ComponentType": "branch",
            "b_fr": 0.034,
            "br_status": 1,
            "xcoord_2": 0.45594960841555165,
            "b_to": 0.034,
            "index": 29,
            "transformer": false,
            "ycoord_1": 2.017786930188822,
            "pf": -0.644885206899062
          },
          {
            "br_r": 0.0035,
            "rate_a": 6,
            "xcoord_1": -1.1959004309800532,
            "pt": 1.414177347480445,
            "br_x": 0.0411,
            "ycoord_2": -1.9360527934013865,
            "ComponentType": "branch",
            "b_fr": 0.34935,
            "br_status": 1,
            "xcoord_2": -1.4497148531822228,
            "b_to": 0.34935,
            "index": 1,
            "transformer": false,
            "ycoord_1": -3.1757157386067774,
            "pf": -1.4075059449214404
          },
          {
            "br_r": 0.001,
            "rate_a": 10,
            "xcoord_1": -1.1959004309800532,
            "pt": -0.4309539257254436,
            "br_x": 0.025,
            "ycoord_2": -4.302105599504845,
            "ComponentType": "branch",
            "b_fr": 0.375,
            "br_status": 1,
            "xcoord_2": -0.675633396350573,
            "b_to": 0.375,
            "index": 2,
            "transformer": false,
            "ycoord_1": -3.1757157386067774,
            "pf": 0.4315059449214405
          },
          {
            "br_r": 0.0006,
            "rate_a": 9,
            "xcoord_1": -2.526142577285017,
            "pt": 0.4024004626154649,
            "br_x": 0.0232,
            "ycoord_2": -2.096190041004793,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": -3.625660197521613,
            "b_to": 0,
            "index": 41,
            "transformer": true,
            "ycoord_1": -1.2775446100865708,
            "pf": -0.4023071599443617
          },
          {
            "br_r": 0.0016,
            "rate_a": 6,
            "xcoord_1": 0.09830854775524903,
            "pt": 0.7713796113940843,
            "br_x": 0.0195,
            "ycoord_2": 2.995967032696764,
            "ComponentType": "branch",
            "b_fr": 0.152,
            "br_status": 1,
            "xcoord_2": -0.8935706715647779,
            "b_to": 0.152,
            "index": 27,
            "transformer": false,
            "ycoord_1": 2.017786930188822,
            "pf": -0.7700089254304018
          },
          {
            "br_r": 0.0014,
            "rate_a": 6,
            "xcoord_1": -2.9440185636598915,
            "pt": -2.864436095356372,
            "br_x": 0.0147,
            "ycoord_2": 0.8142688304062873,
            "ComponentType": "branch",
            "b_fr": 0.1198,
            "br_status": 1,
            "xcoord_2": -2.1032067123922524,
            "b_to": 0.1198,
            "index": 42,
            "transformer": false,
            "ycoord_1": -0.044161681647848186,
            "pf": 2.8750737900943735
          },
          {
            "br_r": 0.0007,
            "rate_a": 9,
            "xcoord_1": -0.8935706715647779,
            "pt": 2.522642017017197,
            "br_x": 0.0142,
            "ycoord_2": 4.144077946949086,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": -0.834243607991606,
            "b_to": 0,
            "index": 33,
            "transformer": true,
            "ycoord_1": 2.995967032696764,
            "pf": -2.517881101663651
          },
          {
            "br_r": 0.0008,
            "rate_a": 6,
            "xcoord_1": 0.09830854775524903,
            "pt": 3.650120989212048,
            "br_x": 0.0135,
            "ycoord_2": 2.6128498367334188,
            "ComponentType": "branch",
            "b_fr": 0.1274,
            "br_status": 1,
            "xcoord_2": 1.0625407687404804,
            "b_to": 0.1274,
            "index": 28,
            "transformer": false,
            "ycoord_1": 2.017786930188822,
            "pf": -3.6402587762644982
          },
          {
            "br_r": 0.0007,
            "rate_a": 6,
            "xcoord_1": 0.09830854775524903,
            "pt": -0.3382176703668909,
            "br_x": 0.0089,
            "ycoord_2": 1.1343119434697966,
            "ComponentType": "branch",
            "b_fr": 0.0671,
            "br_status": 1,
            "xcoord_2": -0.9005660272049285,
            "b_to": 0.0671,
            "index": 26,
            "transformer": false,
            "ycoord_1": 2.017786930188822,
            "pf": 0.33829727065280835
          },
          {
            "br_r": 0.0002,
            "rate_a": 12,
            "xcoord_1": 1.6814039685494113,
            "pt": 5.347204106386175,
            "br_x": 0.0026,
            "ycoord_2": -2.5896281396728393,
            "ComponentType": "branch",
            "b_fr": 0.0217,
            "br_status": 1,
            "xcoord_2": 2.94603038506061,
            "b_to": 0.0217,
            "index": 10,
            "transformer": false,
            "ycoord_1": -2.3012613509835087,
            "pf": -5.341724221900382
          },
          {
            "br_r": 0.0018,
            "rate_a": 6,
            "xcoord_1": 1.529036834254066,
            "pt": -1.775737503764106,
            "br_x": 0.0217,
            "ycoord_2": 1.1104591185677584,
            "ComponentType": "branch",
            "b_fr": 0.183,
            "br_status": 1,
            "xcoord_2": 0.9299898769435474,
            "b_to": 0.183,
            "index": 24,
            "transformer": false,
            "ycoord_1": -0.03883096809769254,
            "pf": 1.7810861210488527
          },
          {
            "br_r": 0.0009,
            "rate_a": 6,
            "xcoord_1": 0.9299898769435474,
            "pt": 1.4268556379411543,
            "br_x": 0.0094,
            "ycoord_2": 2.017786930188822,
            "ComponentType": "branch",
            "b_fr": 0.0855,
            "br_status": 1,
            "xcoord_2": 0.09830854775524903,
            "b_to": 0.0855,
            "index": 25,
            "transformer": false,
            "ycoord_1": 1.1104591185677584,
            "pf": -1.424262496235894
          },
          {
            "br_r": 0.0009,
            "rate_a": 6,
            "xcoord_1": 2.763190809830838,
            "pt": -3.9207952181193426,
            "br_x": 0.0101,
            "ycoord_2": -0.03883096809769254,
            "ComponentType": "branch",
            "b_fr": 0.08615,
            "br_status": 1,
            "xcoord_2": 1.529036834254066,
            "b_to": 0.08615,
            "index": 23,
            "transformer": false,
            "ycoord_1": -0.08044601918423186,
            "pf": 3.9336692593786746
          },
          {
            "br_r": 0,
            "rate_a": 9,
            "xcoord_1": -1.4497148531822228,
            "pt": 8.890444356045478,
            "br_x": 0.0181,
            "ycoord_2": -2.7285609331046556,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": -2.223215150814729,
            "b_to": 0,
            "index": 5,
            "transformer": true,
            "ycoord_1": -1.9360527934013865,
            "pf": -8.890444356045478
          },
          {
            "br_r": 0.0013,
            "rate_a": 6,
            "xcoord_1": -0.9005660272049285,
            "pt": 0.054436095356372186,
            "br_x": 0.0173,
            "ycoord_2": 0.8142688304062873,
            "ComponentType": "branch",
            "b_fr": 0.1608,
            "br_status": 1,
            "xcoord_2": -2.1032067123922524,
            "b_to": 0.1608,
            "index": 31,
            "transformer": false,
            "ycoord_1": 1.1343119434697966,
            "pf": -0.05442118802786622
          },
          {
            "br_r": 0.0043,
            "rate_a": 6,
            "xcoord_1": -2.9440185636598915,
            "pt": 1.5896881200006283,
            "br_x": 0.0474,
            "ycoord_2": 0.6224289693360158,
            "ComponentType": "branch",
            "b_fr": 0.3901,
            "br_status": 1,
            "xcoord_2": -3.9224255097646545,
            "b_to": 0.3901,
            "index": 43,
            "transformer": false,
            "ycoord_1": -0.044161681647848186,
            "pf": -1.5799877048502564
          },
          {
            "br_r": 0.0005,
            "rate_a": 9,
            "xcoord_1": 1.1079786664835654,
            "pt": 5.800000057946001,
            "br_x": 0.0272,
            "ycoord_2": 5.390707955429893,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 1.1776227437608797,
            "b_to": 0,
            "index": 39,
            "transformer": false,
            "ycoord_1": 4.148585685280713,
            "pf": -5.784872884036105
          },
          {
            "br_r": 0.0009,
            "rate_a": 9,
            "xcoord_1": -1.854847569293565,
            "pt": 5.080000050713395,
            "br_x": 0.018,
            "ycoord_2": 4.924546570840383,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": -2.41416068846274,
            "b_to": 0,
            "index": 34,
            "transformer": true,
            "ycoord_1": 3.7882213094231982,
            "pf": -5.055648085934545
          },
          {
            "br_r": 0.0057,
            "rate_a": 6,
            "xcoord_1": -2.9440185636598915,
            "pt": 2.092996345277904,
            "br_x": 0.0625,
            "ycoord_2": -0.09933175703715581,
            "ComponentType": "branch",
            "b_fr": 0.5145,
            "br_status": 1,
            "xcoord_2": -4.271946871621314,
            "b_to": 0.5145,
            "index": 44,
            "transformer": false,
            "ycoord_1": -0.044161681647848186,
            "pf": -2.070773287565235
          },
          {
            "br_r": 0.001,
            "rate_a": 9,
            "xcoord_1": 0.5310674774458827,
            "pt": 0.3909540355552634,
            "br_x": 0.025,
            "ycoord_2": -4.302105599504845,
            "ComponentType": "branch",
            "b_fr": 0.6,
            "br_status": 1,
            "xcoord_2": -0.675633396350573,
            "b_to": 0.6,
            "index": 17,
            "transformer": false,
            "ycoord_1": -4.3493614523255095,
            "pf": -0.3897891196781661
          },
          {
            "br_r": 0,
            "rate_a": 9,
            "xcoord_1": 1.9499136764818725,
            "pt": 6.870000068302436,
            "br_x": 0.0143,
            "ycoord_2": 4.215432379848786,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 2.9425813960426863,
            "b_to": 0,
            "index": 37,
            "transformer": true,
            "ycoord_1": 3.577731464996208,
            "pf": -6.870000068302436
          },
          {
            "br_r": 0.0008,
            "rate_a": 5,
            "xcoord_1": 0.8618554888340092,
            "pt": 2.13970909707049,
            "br_x": 0.0129,
            "ycoord_2": -0.03883096809769254,
            "ComponentType": "branch",
            "b_fr": 0.0691,
            "br_status": 1,
            "xcoord_2": 1.529036834254066,
            "b_to": 0.0691,
            "index": 9,
            "transformer": false,
            "ycoord_1": -1.2018697430143366,
            "pf": -2.1360916539808312
          },
          {
            "br_r": 0.0006,
            "rate_a": 9,
            "xcoord_1": 2.94603038506061,
            "pt": -4.223846344594756,
            "br_x": 0.0092,
            "ycoord_2": -3.7659210377313936,
            "ComponentType": "branch",
            "b_fr": 0.0565,
            "br_status": 1,
            "xcoord_2": 2.6486104914563766,
            "b_to": 0.0565,
            "index": 12,
            "transformer": false,
            "ycoord_1": -2.5896281396728393,
            "pf": 4.234417457651211
          },
          {
            "br_r": 0,
            "rate_a": 9,
            "xcoord_1": 3.943514139474414,
            "pt": 7.250000072410173,
            "br_x": 0.02,
            "ycoord_2": -0.4235794148004238,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 5.145390459203982,
            "b_to": 0,
            "index": 20,
            "transformer": true,
            "ycoord_1": -0.753072989491952,
            "pf": -7.250000072410173
          },
          {
            "br_r": 0.0013,
            "rate_a": 5,
            "xcoord_1": -0.3655995396590472,
            "pt": -0.5449157930108854,
            "br_x": 0.0213,
            "ycoord_2": -1.2018697430143366,
            "ComponentType": "branch",
            "b_fr": 0.1107,
            "br_status": 1,
            "xcoord_2": 0.8618554888340092,
            "b_to": 0.1107,
            "index": 6,
            "transformer": false,
            "ycoord_1": -1.1427457760109878,
            "pf": 0.5456398288361941
          },
          {
            "br_r": 0,
            "rate_a": 18,
            "xcoord_1": 2.94603038506061,
            "pt": 6.368000064556217,
            "br_x": 0.025,
            "ycoord_2": -3.2218958125392376,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 4.017265097254932,
            "b_to": 0,
            "index": 14,
            "transformer": true,
            "ycoord_1": -2.5896281396728393,
            "pf": -6.368000064556217
          },
          {
            "br_r": 0.0011,
            "rate_a": 5,
            "xcoord_1": -0.3655995396590472,
            "pt": -1.1874687745733197,
            "br_x": 0.0133,
            "ycoord_2": -0.0418841542629101,
            "ComponentType": "branch",
            "b_fr": 0.1069,
            "br_status": 1,
            "xcoord_2": -0.6691604426991358,
            "b_to": 0.1069,
            "index": 7,
            "transformer": false,
            "ycoord_1": -1.1427457760109878,
            "pf": 1.1888832947064805
          },
          {
            "br_r": 0.0008,
            "rate_a": 6,
            "xcoord_1": 0.8618554888340092,
            "pt": 2.3231718568074813,
            "br_x": 0.0128,
            "ycoord_2": -2.3012613509835087,
            "ComponentType": "branch",
            "b_fr": 0.0671,
            "br_status": 1,
            "xcoord_2": 1.6814039685494113,
            "b_to": 0.0671,
            "index": 8,
            "transformer": false,
            "ycoord_1": -1.2018697430143366,
            "pf": -2.3189925530082838
          },
          {
            "br_r": 0.0004,
            "rate_a": 6,
            "xcoord_1": 3.943514139474414,
            "pt": -3.945185295882919,
            "br_x": 0.0043,
            "ycoord_2": -0.08044601918423186,
            "ComponentType": "branch",
            "b_fr": 0.03645,
            "br_status": 1,
            "xcoord_2": 2.763190809830838,
            "b_to": 0.03645,
            "index": 19,
            "transformer": false,
            "ycoord_1": -0.753072989491952,
            "pf": 3.951115738195633
          },
          {
            "br_r": 0.007,
            "rate_a": 5,
            "xcoord_1": -1.4497148531822228,
            "pt": -2.4535785865572164,
            "br_x": 0.0086,
            "ycoord_2": -1.2775446100865708,
            "ComponentType": "branch",
            "b_fr": 0.073,
            "br_status": 1,
            "xcoord_2": -2.526142577285017,
            "b_to": 0.073,
            "index": 4,
            "transformer": false,
            "ycoord_1": -1.9360527934013865,
            "pf": 2.4926595804303573
          },
          {
            "br_r": 0.0016,
            "rate_a": 5,
            "xcoord_1": 3.5814736550832764,
            "pt": 0.011516036504244776,
            "br_x": 0.0435,
            "ycoord_2": -0.08044601918423186,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 2.763190809830838,
            "b_to": 0,
            "index": 22,
            "transformer": true,
            "ycoord_1": -0.5029974783399772,
            "pf": -0.011234702178678379
          },
          {
            "br_r": 0.0008,
            "rate_a": 9,
            "xcoord_1": 1.6814039685494113,
            "pt": -3.011409587401346,
            "br_x": 0.0112,
            "ycoord_2": -3.4889162294967715,
            "ComponentType": "branch",
            "b_fr": 0.0738,
            "br_status": 1,
            "xcoord_2": 1.458687564470386,
            "b_to": 0.0738,
            "index": 11,
            "transformer": false,
            "ycoord_1": -2.3012613509835087,
            "pf": 3.0185523650929
          },
          {
            "br_r": 0.0008,
            "rate_a": 9,
            "xcoord_1": 1.0625407687404804,
            "pt": 6.420235787349297,
            "br_x": 0.014,
            "ycoord_2": 3.577731464996208,
            "ComponentType": "branch",
            "b_fr": 0.12825,
            "br_status": 1,
            "xcoord_2": 1.9499136764818725,
            "b_to": 0.12825,
            "index": 35,
            "transformer": false,
            "ycoord_1": 2.6128498367334188,
            "pf": -6.390120989212049
          },
          {
            "br_r": 0.0007,
            "rate_a": 4.8,
            "xcoord_1": 2.94603038506061,
            "pt": 3.2203331844227336,
            "br_x": 0.0082,
            "ycoord_2": -1.6979814527151897,
            "ComponentType": "branch",
            "b_fr": 0.06945,
            "br_status": 1,
            "xcoord_2": 3.692807353150325,
            "b_to": 0.06945,
            "index": 13,
            "transformer": false,
            "ycoord_1": -2.5896281396728393,
            "pf": -3.2136214994811683
          },
          {
            "br_r": 0.0004,
            "rate_a": 9,
            "xcoord_1": 2.6486104914563766,
            "pt": -1.884487843673886,
            "br_x": 0.0046,
            "ycoord_2": -3.4889162294967715,
            "ComponentType": "branch",
            "b_fr": 0.039,
            "br_status": 1,
            "xcoord_2": 1.458687564470386,
            "b_to": 0.039,
            "index": 15,
            "transformer": false,
            "ycoord_1": -3.7659210377313936,
            "pf": 1.8858463445947564
          },
          {
            "br_r": 0.0023,
            "rate_a": 9,
            "xcoord_1": 1.458687564470386,
            "pt": 0.3247891196781661,
            "br_x": 0.0363,
            "ycoord_2": -4.3493614523255095,
            "ComponentType": "branch",
            "b_fr": 0.1902,
            "br_status": 1,
            "xcoord_2": 0.5310674774458827,
            "b_to": 0.1902,
            "index": 16,
            "transformer": false,
            "ycoord_1": -3.4889162294967715,
            "pf": -0.3241025689247681
          },
          {
            "br_r": 0.0032,
            "rate_a": 6,
            "xcoord_1": -2.526142577285017,
            "pt": -0.6143127976788815,
            "br_x": 0.0323,
            "ycoord_2": -0.044161681647848186,
            "ComponentType": "branch",
            "b_fr": 0.2655,
            "br_status": 1,
            "xcoord_2": -2.9440185636598915,
            "b_to": 0.2655,
            "index": 40,
            "transformer": false,
            "ycoord_1": -1.2775446100865708,
            "pf": 0.6158857465015776
          },
          {
            "br_r": 0.0016,
            "rate_a": 5,
            "xcoord_1": 3.5814736550832764,
            "pt": 0.0743698887867815,
            "br_x": 0.0435,
            "ycoord_2": -1.6979814527151897,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": 3.692807353150325,
            "b_to": 0,
            "index": 21,
            "transformer": true,
            "ycoord_1": -0.5029974783399772,
            "pf": -0.0740652978213216
          },
          {
            "br_r": 0.0022,
            "rate_a": 6,
            "xcoord_1": 1.1079786664835654,
            "pt": -3.731137690196317,
            "br_x": 0.035,
            "ycoord_2": 3.0631249889018997,
            "ComponentType": "branch",
            "b_fr": 0.1805,
            "br_status": 1,
            "xcoord_2": 0.45594960841555165,
            "b_to": 0.1805,
            "index": 38,
            "transformer": false,
            "ycoord_1": 4.148585685280713,
            "pf": 3.7592010618376546
          },
          {
            "br_r": 0.0008,
            "rate_a": 12,
            "xcoord_1": -4.271946871621314,
            "pt": 8.650000086409692,
            "br_x": 0.0156,
            "ycoord_2": 0.1336785432565022,
            "ComponentType": "branch",
            "b_fr": 0,
            "br_status": 1,
            "xcoord_2": -5.472580001864649,
            "b_to": 0,
            "index": 46,
            "transformer": true,
            "ycoord_1": -0.09933175703715581,
            "pf": -8.59446529418396
          },
          {
            "br_r": 0.0014,
            "rate_a": 6,
            "xcoord_1": -3.9224255097646545,
            "pt": 3.6664689489060573,
            "br_x": 0.0151,
            "ycoord_2": -0.09933175703715581,
            "ComponentType": "branch",
            "b_fr": 0.1245,
            "br_status": 1,
            "xcoord_2": -4.271946871621314,
            "b_to": 0.1245,
            "index": 45,
            "transformer": false,
            "ycoord_1": 0.6224289693360158,
            "pf": -3.6496881200006284
          },
          {
            "br_r": 0.0006,
            "rate_a": 6,
            "xcoord_1": 1.9499136764818725,
            "pt": -0.44932817780154993,
            "br_x": 0.0096,
            "ycoord_2": 4.148585685280713,
            "ComponentType": "branch",
            "b_fr": 0.0923,
            "br_status": 1,
            "xcoord_2": 1.1079786664835654,
            "b_to": 0.0923,
            "index": 36,
            "transformer": false,
            "ycoord_1": 3.577731464996208,
            "pf": 0.4497642809531391
          },
          {
            "br_r": 0.0004,
            "rate_a": 6,
            "xcoord_1": 3.943514139474414,
            "pt": -3.2947030732095155,
            "br_x": 0.0043,
            "ycoord_2": -1.6979814527151897,
            "ComponentType": "branch",
            "b_fr": 0.03645,
            "br_status": 1,
            "xcoord_2": 3.692807353150325,
            "b_to": 0.03645,
            "index": 18,
            "transformer": false,
            "ycoord_1": -0.753072989491952,
            "pf": 3.29888433421454
          },
          {
            "br_r": 0.0007,
            "rate_a": 6,
            "xcoord_1": -0.9005660272049285,
            "pt": -0.3925312254266804,
            "br_x": 0.0082,
            "ycoord_2": -0.0418841542629101,
            "ComponentType": "branch",
            "b_fr": 0.06595,
            "br_status": 1,
            "xcoord_2": -0.6691604426991358,
            "b_to": 0.06595,
            "index": 30,
            "transformer": false,
            "ycoord_1": 1.1343119434697966,
            "pf": 0.3926388583947571
          },
          {
            "br_r": 0.0013,
            "rate_a": 5,
            "xcoord_1": -1.4497148531822228,
            "pt": -4.954523123542675,
            "br_x": 0.0151,
            "ycoord_2": -1.1427457760109878,
            "ComponentType": "branch",
            "b_fr": 0.1286,
            "br_status": 1,
            "xcoord_2": -0.3655995396590472,
            "b_to": 0.1286,
            "index": 3,
            "transformer": false,
            "ycoord_1": -1.9360527934013865,
            "pf": 4.983607428134676
          }
        ]
      },
      "layer": [
        {
          "mark": {
            "tooltip": {"content": "data"},
            "opacity": 1,
            "type": "rule"
          },
          "encoding": {
            "x": {"type": "quantitative", "field": "xcoord_1"},
            "x2": {"type": "quantitative", "field": "xcoord_2"},
            "y": {"type": "quantitative", "field": "ycoord_1"},
            "y2": {"type": "quantitative", "field": "ycoord_2"},
            "size": {"value": 5},
            "color": {
              "field": "branch_Percent_Loading",
              "type": "quantitative",
              "title": "Carga de línea [%]",
              "scale": {
                "range": ["green", "yellow", "red"],
                "domain": [0, 100]
              },
              "legend": {"offset": -50, "orient": "bottom-right"}
            }
          }
        },
        {
          "transform": [
            {"calculate": "(datum.xcoord_1 + datum.xcoord_2)/2", "as": "mid_x"},
            {"calculate": "(datum.ycoord_1 + datum.ycoord_2)/2", "as": "mid_y"},
            {
              "calculate": "180*(if(datum.pf >= 0,\n                            atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                            atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                        ))/PI",
              "as": "angle"
            },
            {
              "calculate": "if(isValid(datum.pt), abs(datum.pt), 0.0)",
              "as": "power"
            }
          ],
          "mark": {
            "shape": "wedge",
            "filled": true,
            "tooltip": {"content": "data"},
            "opacity": 0,
            "color": "white",
            "type": "point",
            "stroke": "black"
          },
          "encoding": {
            "x": {"type": "quantitative", "field": "mid_x"},
            "y": {"type": "quantitative", "field": "mid_y"},
            "size": {
              "scale": {"range": [0, 4000]},
              "type": "quantitative",
              "legend": null,
              "field": "power"
            },
            "angle": {
              "scale": {"domain": [0, 360], "range": [0, 360]},
              "type": "quantitative",
              "field": "angle"
            }
          }
        }
      ],
      "transform": [
        {
          "calculate": "abs(datum.pt)/datum.rate_a*100",
          "as": "branch_Percent_Loading"
        },
        {"calculate": "abs(datum.pt)", "as": "BranchPower"}
      ]
    },
    {
      "mark": {"tooltip": {"content": "data"}, "opacity": 1, "type": "rule"},
      "data": {
        "values": [
          {
            "source_id": ["load", "18"],
            "xcoord_1": -3.9224255097646545,
            "ycoord_1": 0.6224289693360158,
            "src": ["bus", "28"],
            "xcoord_2": -4.327546613279031,
            "ycoord_2": 0.9740647046270489,
            "dst": ["load", "18"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["gen", "4"],
            "xcoord_1": -0.834243607991606,
            "ycoord_1": 4.144077946949086,
            "src": ["bus", "33"],
            "xcoord_2": -0.8704226099138742,
            "ycoord_2": 4.688128636467433,
            "dst": ["gen", "4"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "7"],
            "xcoord_1": 3.5814736550832764,
            "ycoord_1": -0.5029974783399772,
            "src": ["bus", "12"],
            "xcoord_2": 4.061136457955484,
            "ycoord_2": -0.1997836311320875,
            "dst": ["load", "7"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["gen", "3"],
            "xcoord_1": 5.145390459203982,
            "ycoord_1": -0.4235794148004238,
            "src": ["bus", "32"],
            "xcoord_2": 5.662858327789515,
            "ycoord_2": -0.3375125758001857,
            "dst": ["gen", "3"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "2"],
            "xcoord_1": -0.3655995396590472,
            "ycoord_1": -1.1427457760109878,
            "src": ["bus", "3"],
            "xcoord_2": -0.291423092833823,
            "ycoord_2": -1.5387162136433787,
            "dst": ["load", "2"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "10"],
            "xcoord_1": -0.6691604426991358,
            "ycoord_1": -0.0418841542629101,
            "src": ["bus", "18"],
            "xcoord_2": -0.27298008463962564,
            "ycoord_2": 0.07765739813357705,
            "dst": ["load", "10"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "15"],
            "xcoord_1": -2.526142577285017,
            "ycoord_1": -1.2775446100865708,
            "src": ["bus", "25"],
            "xcoord_2": -2.863935082934393,
            "ycoord_2": -1.5461061476498414,
            "dst": ["load", "15"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "4"],
            "xcoord_1": 2.6486104914563766,
            "ycoord_1": -3.7659210377313936,
            "src": ["bus", "7"],
            "xcoord_2": 2.8820509961609293,
            "ycoord_2": -4.268760176401445,
            "dst": ["load", "4"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "6"],
            "xcoord_1": 0.5310674774458827,
            "ycoord_1": -4.3493614523255095,
            "src": ["bus", "9"],
            "xcoord_2": 0.6501773671034915,
            "ycoord_2": -4.888872782545868,
            "dst": ["load", "6"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "11"],
            "xcoord_1": -1.854847569293565,
            "ycoord_1": 3.7882213094231982,
            "src": ["bus", "20"],
            "xcoord_2": -2.347961728172722,
            "ycoord_2": 3.8492111507975784,
            "dst": ["load", "11"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["gen", "9"],
            "xcoord_1": -5.472580001864649,
            "ycoord_1": 0.1336785432565022,
            "src": ["bus", "38"],
            "xcoord_2": -5.988417823876669,
            "ycoord_2": 0.14445842706447223,
            "dst": ["gen", "9"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "9"],
            "xcoord_1": 0.09830854775524903,
            "ycoord_1": 2.017786930188822,
            "src": ["bus", "16"],
            "xcoord_2": -0.27309203777471797,
            "ycoord_2": 2.097402269673803,
            "dst": ["load", "9"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["gen", "1"],
            "xcoord_1": -2.223215150814729,
            "ycoord_1": -2.7285609331046556,
            "src": ["bus", "30"],
            "xcoord_2": -2.5964252300095985,
            "ycoord_2": -3.1519745140079625,
            "dst": ["gen", "1"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["gen", "2"],
            "xcoord_1": 4.017265097254932,
            "ycoord_1": -3.2218958125392376,
            "src": ["bus", "31"],
            "xcoord_2": 4.2127489336901265,
            "ycoord_2": -3.7407383240301044,
            "dst": ["gen", "2"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "16"],
            "xcoord_1": -2.9440185636598915,
            "ycoord_1": -0.044161681647848186,
            "src": ["bus", "26"],
            "xcoord_2": -3.2916654372118006,
            "ycoord_2": -0.21210104594537027,
            "dst": ["load", "16"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "13"],
            "xcoord_1": 1.1079786664835654,
            "ycoord_1": 4.148585685280713,
            "src": ["bus", "23"],
            "xcoord_2": 1.4171985826326021,
            "ycoord_2": 4.500581213096391,
            "dst": ["load", "13"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "12"],
            "xcoord_1": 1.0625407687404804,
            "ycoord_1": 2.6128498367334188,
            "src": ["bus", "21"],
            "xcoord_2": 1.5441202778923675,
            "ycoord_2": 2.6176076191909585,
            "dst": ["load", "12"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["gen", "6"],
            "xcoord_1": 2.9425813960426863,
            "ycoord_1": 4.215432379848786,
            "src": ["bus", "35"],
            "xcoord_2": 3.3242461843299838,
            "ycoord_2": 4.579476176607479,
            "dst": ["gen", "6"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["gen", "8"],
            "xcoord_1": -3.625660197521613,
            "ycoord_1": -2.096190041004793,
            "src": ["bus", "37"],
            "xcoord_2": -4.057944959122267,
            "ycoord_2": -2.4249028513313147,
            "dst": ["gen", "8"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "14"],
            "xcoord_1": 0.45594960841555165,
            "ycoord_1": 3.0631249889018997,
            "src": ["bus", "24"],
            "xcoord_2": 0.1938307317768838,
            "ycoord_2": 3.4496231648957694,
            "dst": ["load", "14"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["gen", "7"],
            "xcoord_1": 1.1776227437608797,
            "ycoord_1": 5.390707955429893,
            "src": ["bus", "36"],
            "xcoord_2": 1.3199039838852706,
            "ycoord_2": 5.89355161792763,
            "dst": ["gen", "7"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "20"],
            "xcoord_1": 4.017265097254932,
            "ycoord_1": -3.2218958125392376,
            "src": ["bus", "31"],
            "xcoord_2": 4.559537595173048,
            "ycoord_2": -3.173270061873515,
            "dst": ["load", "20"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "5"],
            "xcoord_1": 1.458687564470386,
            "ycoord_1": -3.4889162294967715,
            "src": ["bus", "8"],
            "xcoord_2": 1.6113765314273227,
            "ycoord_2": -3.943090300698262,
            "dst": ["load", "5"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "8"],
            "xcoord_1": 0.9299898769435474,
            "ycoord_1": 1.1104591185677584,
            "src": ["bus", "15"],
            "xcoord_2": 1.3904288809909973,
            "ycoord_2": 1.262517199897675,
            "dst": ["load", "8"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "21"],
            "xcoord_1": -0.675633396350573,
            "ycoord_1": -4.302105599504845,
            "src": ["bus", "39"],
            "xcoord_2": -0.6368750697596349,
            "ycoord_2": -4.839496514647823,
            "dst": ["load", "21"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "19"],
            "xcoord_1": -4.271946871621314,
            "ycoord_1": -0.09933175703715581,
            "src": ["bus", "29"],
            "xcoord_2": -4.660986769502232,
            "ycoord_2": -0.40362711240526017,
            "dst": ["load", "19"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "3"],
            "xcoord_1": 0.8618554888340092,
            "ycoord_1": -1.2018697430143366,
            "src": ["bus", "4"],
            "xcoord_2": 1.231922734823478,
            "ycoord_2": -1.310421610553716,
            "dst": ["load", "3"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "1"],
            "xcoord_1": -1.1959004309800532,
            "ycoord_1": -3.1757157386067774,
            "src": ["bus", "1"],
            "xcoord_2": -1.5875229743142556,
            "ycoord_2": -3.517788550607289,
            "dst": ["load", "1"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["gen", "5"],
            "xcoord_1": -2.41416068846274,
            "ycoord_1": 4.924546570840383,
            "src": ["bus", "34"],
            "xcoord_2": -2.6741733981562574,
            "ycoord_2": 5.379202774738074,
            "dst": ["gen", "5"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["gen", "10"],
            "xcoord_1": -0.675633396350573,
            "ycoord_1": -4.302105599504845,
            "src": ["bus", "39"],
            "xcoord_2": -1.1050399467192698,
            "ycoord_2": -4.670800937988639,
            "dst": ["gen", "10"],
            "ComponentType": "connector"
          },
          {
            "source_id": ["load", "17"],
            "xcoord_1": -2.1032067123922524,
            "ycoord_1": 0.8142688304062873,
            "src": ["bus", "27"],
            "xcoord_2": -2.3977509237909045,
            "ycoord_2": 1.2203566648796051,
            "dst": ["load", "17"],
            "ComponentType": "connector"
          }
        ]
      },
      "encoding": {
        "x": {"type": "quantitative", "field": "xcoord_1"},
        "x2": {"type": "quantitative", "field": "xcoord_2"},
        "y": {"type": "quantitative", "field": "ycoord_1"},
        "y2": {"type": "quantitative", "field": "ycoord_2"},
        "size": {"value": 3},
        "strokeDash": {"value": [4, 4]},
        "color": {
          "field": "ComponentType",
          "type": "nominal",
          "title": "Líneas",
          "scale": {"range": ["gray"]}
        }
      }
    },
    {
      "data": {
        "values": [
          {
            "zone": 1,
            "xcoord_1": 0.45594960841555165,
            "bus_i": 24,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 3,
            "vmin": 0.94,
            "index": 24,
            "va": -0.1919865735398802,
            "vm": 1.0519709903723398,
            "ycoord_1": 3.0631249889018997,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": 0.8618554888340092,
            "bus_i": 4,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.94,
            "index": 4,
            "va": -0.19653487739478773,
            "vm": 1.036410241705587,
            "ycoord_1": -1.2018697430143366,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": -1.1959004309800532,
            "bus_i": 1,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 2,
            "vmin": 0.94,
            "index": 1,
            "va": -0.17083457975924532,
            "vm": 1.0421079575024508,
            "ycoord_1": -3.1757157386067774,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": 3.5814736550832764,
            "bus_i": 12,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.94,
            "index": 12,
            "va": -0.13576046918190263,
            "vm": 1.0419971841519853,
            "ycoord_1": -0.5029974783399772,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": -4.271946871621314,
            "bus_i": 29,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 3,
            "vmin": 0.94,
            "index": 29,
            "va": -0.04230867565133091,
            "vm": 1.0600000071881686,
            "ycoord_1": -0.09933175703715581,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": -1.854847569293565,
            "bus_i": 20,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 3,
            "vmin": 0.94,
            "index": 20,
            "va": -0.2066478187071875,
            "vm": 0.997087829726325,
            "ycoord_1": 3.7882213094231982,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": 5.145390459203982,
            "bus_i": 32,
            "bus_type": 2,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.94,
            "index": 32,
            "va": 0.02042849501150093,
            "vm": 1.0381151421971622,
            "ycoord_1": -0.4235794148004238,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": -1.4497148531822228,
            "bus_i": 2,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 2,
            "vmin": 0.94,
            "index": 2,
            "va": -0.11938794854190271,
            "vm": 1.0600000105494876,
            "ycoord_1": -1.9360527934013865,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": 2.94603038506061,
            "bus_i": 6,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.94,
            "index": 6,
            "va": -0.15700257981804724,
            "vm": 1.0485623544800373,
            "ycoord_1": -2.5896281396728393,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": -2.526142577285017,
            "bus_i": 25,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 2,
            "vmin": 0.94,
            "index": 25,
            "va": -0.14027122207350592,
            "vm": 1.0457495239715917,
            "ycoord_1": -1.2775446100865708,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": 1.1079786664835654,
            "bus_i": 23,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 3,
            "vmin": 0.94,
            "index": 23,
            "va": -0.07288578770876629,
            "vm": 1.0525369001915688,
            "ycoord_1": 4.148585685280713,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": 1.9499136764818725,
            "bus_i": 22,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 3,
            "vmin": 0.94,
            "index": 22,
            "va": -0.06943685420561142,
            "vm": 1.0598838242331157,
            "ycoord_1": 3.577731464996208,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": 3.692807353150325,
            "bus_i": 11,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.94,
            "index": 11,
            "va": -0.13346402939071386,
            "vm": 1.0546226869301238,
            "ycoord_1": -1.6979814527151897,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": 2.9425813960426863,
            "bus_i": 35,
            "bus_type": 2,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 3,
            "vmin": 0.94,
            "index": 35,
            "va": 0.020313405834215287,
            "vm": 1.0600000102598055,
            "ycoord_1": 4.215432379848786,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": 2.763190809830838,
            "bus_i": 13,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.94,
            "index": 13,
            "va": -0.13594914427225532,
            "vm": 1.0540344225100249,
            "ycoord_1": -0.08044601918423186,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": 1.6814039685494113,
            "bus_i": 5,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.94,
            "index": 5,
            "va": -0.16947015725116207,
            "vm": 1.0445539343907029,
            "ycoord_1": -2.3012613509835087,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": 0.9299898769435474,
            "bus_i": 15,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 3,
            "vmin": 0.94,
            "index": 15,
            "va": -0.2067086723933845,
            "vm": 1.0370846917404775,
            "ycoord_1": 1.1104591185677584,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": -2.1032067123922524,
            "bus_i": 27,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 2,
            "vmin": 0.94,
            "index": 27,
            "va": -0.19707626941776646,
            "vm": 1.046858747355838,
            "ycoord_1": 0.8142688304062873,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": 4.017265097254932,
            "bus_i": 31,
            "bus_type": 3,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.94,
            "index": 31,
            "va": -9.014360993983533e-32,
            "vm": 1.0389902600033685,
            "ycoord_1": -3.2218958125392376,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": -0.834243607991606,
            "bus_i": 33,
            "bus_type": 2,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 3,
            "vmin": 0.94,
            "index": 33,
            "va": -0.14693296870514308,
            "vm": 1.0013662934325107,
            "ycoord_1": 4.144077946949086,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": -3.9224255097646545,
            "bus_i": 28,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 3,
            "vmin": 0.94,
            "index": 28,
            "va": -0.09185941559730686,
            "vm": 1.0587011660732448,
            "ycoord_1": 0.6224289693360158,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": 0.09830854775524903,
            "bus_i": 16,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 3,
            "vmin": 0.94,
            "index": 16,
            "va": -0.1952445373605402,
            "vm": 1.047767075172005,
            "ycoord_1": 2.017786930188822,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": 1.529036834254066,
            "bus_i": 14,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.94,
            "index": 14,
            "va": -0.171493597804153,
            "vm": 1.0451378178625665,
            "ycoord_1": -0.03883096809769254,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": -0.675633396350573,
            "bus_i": 39,
            "bus_type": 2,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.94,
            "index": 39,
            "va": -0.1803199515769074,
            "vm": 1.0263175694865483,
            "ycoord_1": -4.302105599504845,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": 1.0625407687404804,
            "bus_i": 21,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 3,
            "vmin": 0.94,
            "index": 21,
            "va": -0.1499478581260944,
            "vm": 1.0447743817773496,
            "ycoord_1": 2.6128498367334188,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": -5.472580001864649,
            "bus_i": 38,
            "bus_type": 2,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 3,
            "vmin": 0.94,
            "index": 38,
            "va": 0.08316918879171889,
            "vm": 1.0397270875574285,
            "ycoord_1": 0.1336785432565022,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": 2.6486104914563766,
            "bus_i": 7,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.94,
            "index": 7,
            "va": -0.1921997936389335,
            "vm": 1.036248916712111,
            "ycoord_1": -3.7659210377313936,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": -2.41416068846274,
            "bus_i": 34,
            "bus_type": 2,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 3,
            "vmin": 0.94,
            "index": 34,
            "va": -0.11652819500330522,
            "vm": 1.013834553428051,
            "ycoord_1": 4.924546570840383,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": 1.458687564470386,
            "bus_i": 8,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.94,
            "index": 8,
            "va": -0.20018204354505711,
            "vm": 1.0342183499660091,
            "ycoord_1": -3.4889162294967715,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": 1.1776227437608797,
            "bus_i": 36,
            "bus_type": 2,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 3,
            "vmin": 0.94,
            "index": 36,
            "va": 0.06872184432733595,
            "vm": 1.0600000102872678,
            "ycoord_1": 5.390707955429893,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": -2.9440185636598915,
            "bus_i": 26,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 2,
            "vmin": 0.94,
            "index": 26,
            "va": -0.1594328538213392,
            "vm": 1.0563453166819605,
            "ycoord_1": -0.044161681647848186,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": -0.9005660272049285,
            "bus_i": 17,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 2,
            "vmin": 0.94,
            "index": 17,
            "va": -0.1980503974608249,
            "vm": 1.04841113537544,
            "ycoord_1": 1.1343119434697966,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": 3.943514139474414,
            "bus_i": 10,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.94,
            "index": 10,
            "va": -0.12109944162441146,
            "vm": 1.059533966188479,
            "ycoord_1": -0.753072989491952,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": -0.8935706715647779,
            "bus_i": 19,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 3,
            "vmin": 0.94,
            "index": 19,
            "va": -0.18257403385843574,
            "vm": 1.06000000969382,
            "ycoord_1": 2.995967032696764,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": -3.625660197521613,
            "bus_i": 37,
            "bus_type": 2,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 2,
            "vmin": 0.94,
            "index": 37,
            "va": -0.13130392807202312,
            "vm": 1.020439022323906,
            "ycoord_1": -2.096190041004793,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": 0.5310674774458827,
            "bus_i": 9,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 1,
            "vmin": 0.94,
            "index": 9,
            "va": -0.19033983000429025,
            "vm": 1.0512358098625663,
            "ycoord_1": -4.3493614523255095,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": -0.6691604426991358,
            "bus_i": 18,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 2,
            "vmin": 0.94,
            "index": 18,
            "va": -0.20090527293449967,
            "vm": 1.0472003242755892,
            "ycoord_1": -0.0418841542629101,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": -2.223215150814729,
            "bus_i": 30,
            "bus_type": 2,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 2,
            "vmin": 0.94,
            "index": 30,
            "va": 0.02980280403922936,
            "vm": 1.046864349123416,
            "ycoord_1": -2.7285609331046556,
            "base_kv": 345
          },
          {
            "zone": 1,
            "xcoord_1": -0.3655995396590472,
            "bus_i": 3,
            "bus_type": 1,
            "vmax": 1.06,
            "ComponentType": "bus",
            "area": 2,
            "vmin": 0.94,
            "index": 3,
            "va": -0.18650977061683893,
            "vm": 1.0484276736620628,
            "ycoord_1": -1.1427457760109878,
            "base_kv": 345
          }
        ]
      },
      "mark": {
        "tooltip": {"content": "data"},
        "opacity": 1,
        "type": "point",
        "shape": "triangle-down"
      },
      "encoding": {
        "x": {"type": "quantitative", "field": "xcoord_1"},
        "y": {"type": "quantitative", "field": "ycoord_1"},
        "size": {"value": 100},
        "color": {
          "field": "ComponentType",
          "type": "nominal",
          "title": "Nodos",
          "scale": {"range": ["purple"]}
        }
      }
    },
    {
      "data": {
        "values": [
          {
            "pg": 0.4024004626154649,
            "model": 2,
            "xcoord_1": -4.057944959122267,
            "qg": -8.643353021132412e-9,
            "pmax": 5.64,
            "pg_cost": 1269.580743000165,
            "ComponentType": "gen",
            "mbase": 100,
            "index": 8,
            "qmax": 2.5,
            "gen_status": 1,
            "qmin": 0,
            "ycoord_1": -2.4249028513313147,
            "pmin": 0
          },
          {
            "pg": 2.522642017017197,
            "model": 2,
            "xcoord_1": -0.8704226099138742,
            "qg": 0.675413030848052,
            "pmax": 6.52,
            "pg_cost": 8790.056049976414,
            "ComponentType": "gen",
            "mbase": 100,
            "index": 4,
            "qmax": 2.5,
            "gen_status": 1,
            "qmin": 0,
            "ycoord_1": 4.688128636467433,
            "pmin": 0
          },
          {
            "pg": 8.890444356045478,
            "model": 2,
            "xcoord_1": -2.5964252300095985,
            "qg": 1.3999999862131531,
            "pmax": 10.4,
            "pg_cost": 5978.62646157588,
            "ComponentType": "gen",
            "mbase": 100,
            "index": 1,
            "qmax": 4,
            "gen_status": 1,
            "qmin": 1.4,
            "ycoord_1": -3.1519745140079625,
            "pmin": 0
          },
          {
            "pg": 5.080000050713395,
            "model": 2,
            "xcoord_1": -2.6741733981562574,
            "qg": 1.416043891287353,
            "pmax": 5.08,
            "pg_cost": 12523.721077023702,
            "ComponentType": "gen",
            "mbase": 100,
            "index": 5,
            "qmax": 1.67,
            "gen_status": 1,
            "qmin": 0,
            "ycoord_1": 5.379202774738074,
            "pmin": 0
          },
          {
            "pg": 6.460000064556216,
            "model": 2,
            "xcoord_1": 4.2127489336901265,
            "qg": 3.000000022622007,
            "pmax": 6.46,
            "pg_cost": 9501.125844946862,
            "ComponentType": "gen",
            "mbase": 100,
            "index": 2,
            "qmax": 3,
            "gen_status": 1,
            "qmin": -1,
            "ycoord_1": -3.7407383240301044,
            "pmin": 0
          },
          {
            "pg": 6.870000068302436,
            "model": 2,
            "xcoord_1": 3.3242461843299838,
            "qg": 2.2333266650751553,
            "pmax": 6.87,
            "pg_cost": 22194.554041661147,
            "ComponentType": "gen",
            "mbase": 100,
            "index": 6,
            "qmax": 3,
            "gen_status": 1,
            "qmin": -1,
            "ycoord_1": 4.579476176607479,
            "pmin": 0
          },
          {
            "pg": 5.800000057946001,
            "model": 2,
            "xcoord_1": 1.3199039838852706,
            "qg": 0.5947984515465922,
            "pmax": 5.8,
            "pg_cost": 10531.336765215317,
            "ComponentType": "gen",
            "mbase": 100,
            "index": 7,
            "qmax": 2.4,
            "gen_status": 1,
            "qmin": 0,
            "ycoord_1": 5.89355161792763,
            "pmin": 0
          },
          {
            "pg": 11.00000010982982,
            "model": 2,
            "xcoord_1": -1.1050399467192698,
            "qg": -0.1925028599545795,
            "pmax": 11,
            "pg_cost": 30177.888701312004,
            "ComponentType": "gen",
            "mbase": 100,
            "index": 10,
            "qmax": 3,
            "gen_status": 1,
            "qmin": -1,
            "ycoord_1": -4.670800937988639,
            "pmin": 0
          },
          {
            "pg": 8.650000086409692,
            "model": 2,
            "xcoord_1": -5.988417823876669,
            "qg": 0.47025185975826045,
            "pmax": 8.65,
            "pg_cost": 19465.240514449182,
            "ComponentType": "gen",
            "mbase": 100,
            "index": 9,
            "qmax": 3,
            "gen_status": 1,
            "qmin": -1.5,
            "ycoord_1": 0.14445842706447223,
            "pmin": 0
          },
          {
            "pg": 7.250000072410173,
            "model": 2,
            "xcoord_1": 5.662858327789515,
            "qg": 3.0000000200331334,
            "pmax": 7.25,
            "pg_cost": 17983.432329611507,
            "ComponentType": "gen",
            "mbase": 100,
            "index": 3,
            "qmax": 3,
            "gen_status": 1,
            "qmin": 1.5,
            "ycoord_1": -0.3375125758001857,
            "pmin": 0
          }
        ]
      },
      "mark": {"tooltip": {"content": "data"}, "opacity": 1, "type": "circle"},
      "encoding": {
        "x": {"type": "quantitative", "field": "xcoord_1"},
        "y": {"type": "quantitative", "field": "ycoord_1"},
        "size": {
          "field": "GenPower",
          "title": "Potencia máx gen [pu]",
          "type": "quantitative",
          "scale": {"range": [10, 750]}
        },
        "color": {
          "field": "gen_Percent_Loading",
          "type": "quantitative",
          "title": "Carga de generador [%]",
          "scale": {"range": ["green", "yellow", "red"], "domain": [0, 100]},
          "legend": {"orient": "bottom-right"}
        }
      },
      "transform": [
        {
          "calculate": "datum.pg/(datum.pmax+1e-9)*100",
          "as": "gen_Percent_Loading"
        },
        {"calculate": "datum.pmax", "as": "GenPower"}
      ]
    },
    {
      "data": {
        "values": [
          {
            "source_id": "Any[\"bus\", 7]",
            "ComponentType": "load",
            "load_bus": 7,
            "status": 1,
            "xcoord_1": 2.8820509961609293,
            "ycoord_1": -4.268760176401445,
            "qd": 0.84,
            "pd": 2.338,
            "index": 4
          },
          {
            "source_id": "Any[\"bus\", 1]",
            "ComponentType": "load",
            "load_bus": 1,
            "status": 1,
            "xcoord_1": -1.5875229743142556,
            "ycoord_1": -3.517788550607289,
            "qd": 0.442,
            "pd": 0.976,
            "index": 1
          },
          {
            "source_id": "Any[\"bus\", 21]",
            "ComponentType": "load",
            "load_bus": 21,
            "status": 1,
            "xcoord_1": 1.5441202778923675,
            "ycoord_1": 2.6176076191909585,
            "qd": 1.15,
            "pd": 2.74,
            "index": 12
          },
          {
            "source_id": "Any[\"bus\", 31]",
            "ComponentType": "load",
            "load_bus": 31,
            "status": 1,
            "xcoord_1": 4.559537595173048,
            "ycoord_1": -3.173270061873515,
            "qd": 0.046,
            "pd": 0.092,
            "index": 20
          },
          {
            "source_id": "Any[\"bus\", 3]",
            "ComponentType": "load",
            "load_bus": 3,
            "status": 1,
            "xcoord_1": -0.291423092833823,
            "ycoord_1": -1.5387162136433787,
            "qd": 0.024,
            "pd": 3.22,
            "index": 2
          },
          {
            "source_id": "Any[\"bus\", 9]",
            "ComponentType": "load",
            "load_bus": 9,
            "status": 1,
            "xcoord_1": 0.6501773671034915,
            "ycoord_1": -4.888872782545868,
            "qd": -0.6659999999999999,
            "pd": 0.065,
            "index": 6
          },
          {
            "source_id": "Any[\"bus\", 20]",
            "ComponentType": "load",
            "load_bus": 20,
            "status": 1,
            "xcoord_1": -2.347961728172722,
            "ycoord_1": 3.8492111507975784,
            "qd": 1.03,
            "pd": 6.8,
            "index": 11
          },
          {
            "source_id": "Any[\"bus\", 23]",
            "ComponentType": "load",
            "load_bus": 23,
            "status": 1,
            "xcoord_1": 1.4171985826326021,
            "ycoord_1": 4.500581213096391,
            "qd": 0.846,
            "pd": 2.475,
            "index": 13
          },
          {
            "source_id": "Any[\"bus\", 8]",
            "ComponentType": "load",
            "load_bus": 8,
            "status": 1,
            "xcoord_1": 1.6113765314273227,
            "ycoord_1": -3.943090300698262,
            "qd": 1.766,
            "pd": 5.22,
            "index": 5
          },
          {
            "source_id": "Any[\"bus\", 25]",
            "ComponentType": "load",
            "load_bus": 25,
            "status": 1,
            "xcoord_1": -2.863935082934393,
            "ycoord_1": -1.5461061476498414,
            "qd": 0.47200000000000003,
            "pd": 2.24,
            "index": 15
          },
          {
            "source_id": "Any[\"bus\", 26]",
            "ComponentType": "load",
            "load_bus": 26,
            "status": 1,
            "xcoord_1": -3.2916654372118006,
            "ycoord_1": -0.21210104594537027,
            "qd": 0.17,
            "pd": 1.39,
            "index": 16
          },
          {
            "source_id": "Any[\"bus\", 24]",
            "ComponentType": "load",
            "load_bus": 24,
            "status": 1,
            "xcoord_1": 0.1938307317768838,
            "ycoord_1": 3.4496231648957694,
            "qd": -0.922,
            "pd": 3.0860000000000003,
            "index": 14
          },
          {
            "source_id": "Any[\"bus\", 39]",
            "ComponentType": "load",
            "load_bus": 39,
            "status": 1,
            "xcoord_1": -0.6368750697596349,
            "ycoord_1": -4.839496514647823,
            "qd": 2.5,
            "pd": 11.04,
            "index": 21
          },
          {
            "source_id": "Any[\"bus\", 12]",
            "ComponentType": "load",
            "load_bus": 12,
            "status": 1,
            "xcoord_1": 4.061136457955484,
            "ycoord_1": -0.1997836311320875,
            "qd": 0.88,
            "pd": 0.08529999999999999,
            "index": 7
          },
          {
            "source_id": "Any[\"bus\", 15]",
            "ComponentType": "load",
            "load_bus": 15,
            "status": 1,
            "xcoord_1": 1.3904288809909973,
            "ycoord_1": 1.262517199897675,
            "qd": 1.53,
            "pd": 3.2,
            "index": 8
          },
          {
            "source_id": "Any[\"bus\", 27]",
            "ComponentType": "load",
            "load_bus": 27,
            "status": 1,
            "xcoord_1": -2.3977509237909045,
            "ycoord_1": 1.2203566648796051,
            "qd": 0.755,
            "pd": 2.81,
            "index": 17
          },
          {
            "source_id": "Any[\"bus\", 18]",
            "ComponentType": "load",
            "load_bus": 18,
            "status": 1,
            "xcoord_1": -0.27298008463962564,
            "ycoord_1": 0.07765739813357705,
            "qd": 0.3,
            "pd": 1.58,
            "index": 10
          },
          {
            "source_id": "Any[\"bus\", 29]",
            "ComponentType": "load",
            "load_bus": 29,
            "status": 1,
            "xcoord_1": -4.660986769502232,
            "ycoord_1": -0.40362711240526017,
            "qd": 0.26899999999999996,
            "pd": 2.835,
            "index": 19
          },
          {
            "source_id": "Any[\"bus\", 16]",
            "ComponentType": "load",
            "load_bus": 16,
            "status": 1,
            "xcoord_1": -0.27309203777471797,
            "ycoord_1": 2.097402269673803,
            "qd": 0.32299999999999995,
            "pd": 3.29,
            "index": 9
          },
          {
            "source_id": "Any[\"bus\", 28]",
            "ComponentType": "load",
            "load_bus": 28,
            "status": 1,
            "xcoord_1": -4.327546613279031,
            "ycoord_1": 0.9740647046270489,
            "qd": 0.276,
            "pd": 2.06,
            "index": 18
          },
          {
            "source_id": "Any[\"bus\", 4]",
            "ComponentType": "load",
            "load_bus": 4,
            "status": 1,
            "xcoord_1": 1.231922734823478,
            "ycoord_1": -1.310421610553716,
            "qd": 1.84,
            "pd": 5,
            "index": 3
          }
        ]
      },
      "mark": {"tooltip": {"content": "data"}, "opacity": 1, "type": "square"},
      "encoding": {
        "x": {"type": "quantitative", "field": "xcoord_1"},
        "y": {"type": "quantitative", "field": "ycoord_1"},
        "size": {
          "field": "pd",
          "title": "Demanda [pu]",
          "type": "quantitative",
          "scale": {"range": [10, 750]}
        },
        "color": {
          "field": "ComponentType",
          "type": "nominal",
          "title": "Demanda",
          "scale": {"range": ["blue"]},
          "legend": {"orient": "bottom-right"}
        }
      }
    }
  ]
};
    vegaEmbed("#vis", spec, {mode: "vega-lite"}).then(console.log).catch(console.warn);
  </script>
</body>
</html>